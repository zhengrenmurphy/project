{"version":3,"sources":["webpack:///./src/views/Shorts.vue?99ba","webpack:///./src/components/ShortList.vue?bd0a","webpack:///src/components/ShortList.vue","webpack:///./src/components/ShortList.vue?5e40","webpack:///./src/components/ShortList.vue","webpack:///src/views/Shorts.vue","webpack:///./src/views/Shorts.vue?cf1d","webpack:///./src/views/Shorts.vue","webpack:///./src/components/ShortListItem.vue?06d2","webpack:///src/components/ShortListItem.vue","webpack:///./src/components/ShortListItem.vue?7842","webpack:///./src/components/ShortListItem.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","_v","_s","success","_e","error","shorts","_l","short","key","id","attrs","staticStyle","name","components","data","created","mounted","loadShorts","methods","clearMessages","setInterval","component","ShortList","shortName","creatorIdentity","url","directives","rawName","value","expression","modifiers","domProps","on","$event","target","composing","trim","$forceUpdate","updateShort","deleteShort","props","Object","computed","creator"],"mappings":"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","file":"js/chunk-e2154452.d15ce849.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"main\"},[_c('ShortList')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"subcontainer\"},[_c('div',{staticClass:\"header secondary-header\"},[_vm._v(\" Shorts \")]),_c('div',[(_vm.success)?_c('div',{staticClass:\"success-message\"},[_vm._v(\" \"+_vm._s(_vm.success)+\" \")]):_vm._e(),(_vm.error)?_c('div',{staticClass:\"error-message\"},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]):_vm._e(),_c('div',{staticClass:\"shorts-container\"},[(_vm.shorts.length)?_c('div',_vm._l((_vm.shorts),function(short){return _c('ShortListItem',{key:short.id,attrs:{\"short\":short}})}),1):_c('div',[_c('p',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"There are no shorts to display. Create one today!\")])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"subcontainer\">\n    <div class=\"header secondary-header\">\n      Shorts\n    </div>\n    <div>\n      <div v-if='success' class=\"success-message\">\n        {{ success }}\n      </div>\n      <div v-if='error' class=\"error-message\">\n        {{ error }}\n      </div>\n\n      <div class=\"shorts-container\">  \n        <div v-if=\"shorts.length\">\n          <ShortListItem\n            v-for=\"short in shorts\"\n            v-bind:key=\"short.id\"\n            v-bind:short=\"short\"\n          />\n        </div>\n        <div v-else>\n          <p style=\"text-align: center;\">There are no shorts to display. Create one today!</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport ShortListItem from \"./ShortListItem\";\n\nimport { eventBus } from \"../main\";\n\nexport default {\n  name: \"ShortList\",\n\n  components: { ShortListItem },\n\n  data() {\n    return {\n      error: \"\",\n      success: \"\",\n      shorts: []\n    };\n  },\n\n  created: function() {\n    eventBus.$on(\"create-short-success\", res => {\n      this.shorts.push(res.data);\n    });\n\n    eventBus.$on(\"update-short-success\", res => {\n      this.success = `Short name ${res.data.shortName} now resolves to ${\n        res.data.url\n      }`;\n      this.clearMessages();\n      this.loadShorts();\n    });\n\n    eventBus.$on(\"delete-short-success\", res => {\n      this.success = `Short name ${res.shortName} has been deleted`;\n      this.clearMessages();\n      this.loadShorts();\n    });\n\n    eventBus.$on(\"update-short-error\", res => {\n      this.error = `Error updating short ${res.data.shortName}`;\n      this.clearMessages();\n      this.loadShorts();\n    });\n\n    eventBus.$on(\"delete-short-error\", res => {\n      this.error = `Error deleting short ${res.shortName}`;\n      this.clearMessages();\n      this.loadShorts();\n    });\n  },\n\n  mounted: function() {\n    this.loadShorts();\n  },\n\n  methods: {\n    loadShorts: function() {\n      axios.get(\"/api/shorts\").then(response => {\n        this.shorts = response.data;\n      });\n    },\n\n    clearMessages: function() {\n      setInterval(() => {\n        this.success = \"\";\n        this.error = \"\";\n      }, 5000);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShortList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShortList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShortList.vue?vue&type=template&id=18cf4f6c&\"\nimport script from \"./ShortList.vue?vue&type=script&lang=js&\"\nexport * from \"./ShortList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <div class='main'>\n      <ShortList/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ShortList from \"../components/ShortList.vue\";\n\nexport default {\n  name: \"shorts\",\n  components: {\n    ShortList,\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shorts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shorts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Shorts.vue?vue&type=template&id=4f19ebd4&\"\nimport script from \"./Shorts.vue?vue&type=script&lang=js&\"\nexport * from \"./Shorts.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"short-container\"},[_c('div',{staticClass:\"short-name\"},[_vm._v(\" \"+_vm._s(_vm.short.shortName))]),_c('p',[_vm._v(\"Creator ID: \"+_vm._s(_vm.creatorIdentity))]),_c('p',[_vm._v(\"Short URL: \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":'http://localhost:3000/' + _vm.short.shortName}},[_vm._v(\" http://localhost:3000/\"+_vm._s(_vm.short.shortName)+\" \")])]),_c('a',{attrs:{\"target\":\"_blank\",\"href\":_vm.short.url}},[_vm._v(\" \"+_vm._s(_vm.short.url)+\" \")]),_c('div',{staticClass:\"short-item-actions\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.url),expression:\"url\",modifiers:{\"trim\":true}}],staticClass:\"edit\",attrs:{\"type\":\"text\",\"name\":\"url\",\"placeholder\":\"New Url\"},domProps:{\"value\":(_vm.url)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.url=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('button',{on:{\"click\":_vm.updateShort}},[_vm._v(\"Update\")]),_c('button',{on:{\"click\":_vm.deleteShort}},[_vm._v(\"Delete\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"short-container\">\n    <div class=\"short-name\"> {{ short.shortName }}</div>\n    <p>Creator ID: {{ creatorIdentity }}</p>\n    <p>Short URL: <a target=\"_blank\" v-bind:href=\" 'http://localhost:3000/' + short.shortName\">\n      http://localhost:3000/{{short.shortName  }}\n    </a> </p>\n    <a target=\"_blank\" v-bind:href=\"short.url\">\n      {{ short.url }}\n    </a>\n    <div class=\"short-item-actions\">\n      <input class=\"edit\" v-model.trim='url' type=\"text\" name=\"url\" placeholder=\"New Url\">\n      <button v-on:click=\"updateShort\">Update</button>\n      <button v-on:click=\"deleteShort\">Delete</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { eventBus } from \"../main\";\n\nexport default {\n  name: \"ShortListItem\",\n\n  props: {\n    short: Object\n  },\n\n  data() {\n    return {\n      url: \"\"\n    };\n  },\n\n  computed: {\n    creatorIdentity: function() {\n      return this.short.creator ? this.short.creator : \"anonymous\";\n    }\n  },\n\n  methods: {\n    updateShort: function() {\n      const body = { url: this.url };\n      axios\n        .put(`/api/shorts/${this.short.shortName}`, body)\n        .then((res) => {\n          // handle success\n          eventBus.$emit(\"update-short-success\", res);\n        })\n        .catch(err => {\n          // handle error\n          eventBus.$emit(\"update-short-error\", err);\n        })\n        .then(() => (this.url = \"\"));\n    },\n\n    deleteShort: function() {\n      axios\n        .delete(`/api/shorts/${this.short.shortName}`, {})\n        .then(() => {\n          eventBus.$emit(\"delete-short-success\", this.short);\n        })\n        .catch(err => {\n          eventBus.$emit(\"delete-short-error\", err);\n        })\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShortListItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShortListItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShortListItem.vue?vue&type=template&id=9ad965de&\"\nimport script from \"./ShortListItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ShortListItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}