(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fe0e14ee"],{"552f":function(e,t,s){},"566a":function(e,t,s){"use strict";var r=s("552f"),n=s.n(r);n.a},"77be":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("UserSettings")],1)},n=[],o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"user-settings"}},[e.isSignedIn?s("div",{staticClass:"form-container"},[s("SignOut")],1):s("div",{staticClass:"form-container"},[s("SignIn"),s("SignUp")],1),e.messages.length?s("div",{staticClass:"success-message",staticStyle:{"text-align":"center"}},e._l(e.messages,(function(t){return s("div",{key:t.id},[e._v(e._s(t))])})),0):e._e()])},a=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("form",{staticClass:"component",attrs:{id:"sign-in",method:"post"},on:{submit:function(t){return t.preventDefault(),e.signIn(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.username,expression:"username",modifiers:{trim:!0}}],attrs:{id:"username",type:"text",name:"username",placeholder:"User's name"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("br"),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.password,expression:"password",modifiers:{trim:!0}}],attrs:{id:"password",type:"text",name:"password",placeholder:"User's password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),s("input",{staticClass:"button",attrs:{type:"submit",value:"Sign In"}})]),e.errors.length?s("div",{staticClass:"error-message",staticStyle:{width:"250px"}},[s("b",[e._v("Please correct the following error(s):")]),s("ul",e._l(e.errors,(function(t){return s("li",{key:t.id},[e._v(e._s(t))])})),0)]):e._e()])},c=[],u=(s("7f7f"),s("bc3a")),l=s.n(u),d=s("56d7"),f={name:"SignIn",data:function(){return{errors:[],username:"",password:""}},methods:{signIn:function(){var e=this,t={username:this.username,password:this.password};l.a.post("/api/users/session",t).then((function(e){d["eventBus"].$emit("signin-success",e.data.data.name)})).catch((function(t){e.errors.push(t.response.data.error)})).then((function(){e.resetForm(),e.clearMessages()}))},resetForm:function(){this.username="",this.password=""},clearMessages:function(){var e=this;setInterval((function(){e.errors=[]}),5e3)}}},m=f,h=(s("566a"),s("2877")),v=Object(h["a"])(m,i,c,!1,null,"ef54a1a6",null),p=v.exports,g=s("98f2"),_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("form",{staticClass:"component",attrs:{id:"sign-up",method:"post"},on:{submit:function(t){return t.preventDefault(),e.signIn(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.username,expression:"username",modifiers:{trim:!0}}],attrs:{id:"username",type:"text",name:"username",placeholder:"User's name"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),s("br"),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.password,expression:"password",modifiers:{trim:!0}}],attrs:{id:"password",type:"text",name:"password",placeholder:"User's password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),s("input",{staticClass:"button",attrs:{type:"submit",value:"Sign Up"}})]),e.errors.length?s("div",{staticClass:"error-message",staticStyle:{width:"250px"}},[s("b",[e._v("Please correct the following error(s):")]),s("ul",e._l(e.errors,(function(t){return s("li",{key:t.id},[e._v(e._s(t))])})),0)]):e._e()])},b=[],F={name:"SignUp",data:function(){return{errors:[],username:"",password:""}},methods:{signIn:function(){var e=this,t={username:this.username,password:this.password};l.a.post("/api/users/",t).then((function(){d["eventBus"].$emit("signup-success",!0)})).catch((function(t){e.errors.push(t.response.data.error)})).then((function(){e.resetForm(),e.clearMessages()}))},resetForm:function(){this.username="",this.password=""},clearMessages:function(){var e=this;setInterval((function(){e.errors=[]}),5e3)}}},C=F,$=(s("d331"),Object(h["a"])(C,_,b,!1,null,"255d4bb6",null)),S=$.exports,w=s("cd7f"),I={name:"UserSettings",components:{SignIn:p,SignOut:g["a"],SignUp:S,FritterTitle:w["a"]},data:function(){return{isSignedIn:!1,messages:[]}},created:function(){var e=this,t=this.$cookie.get("fritter-auth");t&&(this.isSignedIn=!0),d["eventBus"].$on("signin-success",(function(t){e.$cookie.set("fritter-auth",t),e.isSignedIn=!0,e.messages.push("You have been signed in!"),e.clearMessages()})),d["eventBus"].$on("signout-success",(function(){e.$cookie.set("fritter-auth",""),e.isSignedIn=!1,e.messages.push("You have been signed out!"),e.clearMessages()})),d["eventBus"].$on("signup-success",(function(){e.messages.push("You have been signed up! Sign in to continue."),e.clearMessages()}))},methods:{clearMessages:function(){var e=this;setInterval((function(){e.messages=[]}),5e3)}}},U=I,y=Object(h["a"])(U,o,a,!1,null,null,null),N=y.exports,B={name:"account",components:{UserSettings:N}},x=B,k=Object(h["a"])(x,r,n,!1,null,null,null);t["default"]=k.exports},"831d":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"short-container"},[s("div",{staticClass:"short-name"},[e._v(" "+e._s(e.short.shortName))]),s("p",[e._v("Creator ID: "+e._s(e.creatorIdentity))]),s("p",[e._v("Short URL: "),s("a",{attrs:{target:"_blank",href:"http://localhost:3000/"+e.short.shortName}},[e._v(" http://localhost:3000/"+e._s(e.short.shortName)+" ")])]),s("a",{attrs:{target:"_blank",href:e.short.url}},[e._v(" "+e._s(e.short.url)+" ")]),s("div",{staticClass:"short-item-actions"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.url,expression:"url",modifiers:{trim:!0}}],staticClass:"edit",attrs:{type:"text",name:"url",placeholder:"New Url"},domProps:{value:e.url},on:{input:function(t){t.target.composing||(e.url=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),s("button",{on:{click:e.updateShort}},[e._v("Update")]),s("button",{on:{click:e.deleteShort}},[e._v("Delete")])])])},n=[],o=s("bc3a"),a=s.n(o),i=s("56d7"),c={name:"ShortListItem",props:{short:Object},data:function(){return{url:""}},computed:{creatorIdentity:function(){return this.short.creator?this.short.creator:"anonymous"}},methods:{updateShort:function(){var e=this,t={url:this.url};a.a.put("/api/shorts/".concat(this.short.shortName),t).then((function(e){i["eventBus"].$emit("update-short-success",e)})).catch((function(e){i["eventBus"].$emit("update-short-error",e)})).then((function(){return e.url=""}))},deleteShort:function(){var e=this;a.a.delete("/api/shorts/".concat(this.short.shortName),{}).then((function(){i["eventBus"].$emit("delete-short-success",e.short)})).catch((function(e){i["eventBus"].$emit("delete-short-error",e)}))}}},u=c,l=s("2877"),d=Object(l["a"])(u,r,n,!1,null,null,null);t["a"]=d.exports},"925e":function(e,t,s){},"98f2":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"component",attrs:{id:"sign-out"}},[s("button",{on:{click:e.signOut}},[e._v("Sign Out")])])},n=[],o=s("bc3a"),a=s.n(o),i=s("56d7"),c={name:"SignOut",methods:{signOut:function(){a.a.delete("api/users/session").then((function(){i["eventBus"].$emit("signout-success",!0)})).catch((function(){i["eventBus"].$emit("signout-success",!0)}))}},mounted:function(){var e=this;i["eventBus"].$on("trigger-signout",(function(){e.signOut()}))},beforeDestroy:function(){i["eventBus"].$off("trigger-signout")}},u=c,l=s("2877"),d=Object(l["a"])(u,r,n,!1,null,null,null);t["a"]=d.exports},ba84:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"subcontainer"},[s("div",{staticClass:"header secondary-header"},[e._v(" Freets ")]),s("div",[e.success?s("div",{staticClass:"success-message"},[e._v(" "+e._s(e.success)+" ")]):e._e(),e.error?s("div",{staticClass:"error-message"},[e._v(" "+e._s(e.error)+" ")]):e._e(),s("div",{staticClass:"freets-container"},[e.freets.length?s("div",e._l(e.freets,(function(e){return s("Freet",{key:e.id,attrs:{freet:e}})})),1):s("div",[s("p",{staticStyle:{"text-align":"center"}},[e._v("There are no freets to display. Create one today!")])])])])])},n=[],o=s("bc3a"),a=s.n(o),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"freet-container"},[s("div",{staticClass:"freet-name"},[e._v(" "+e._s(e.freet.freetID))]),s("p",[e._v("Creator ID: "+e._s(e.freet.creatorUserID))]),s("p",[e._v("Freet Content: "+e._s(e.freetContent))]),s("p",[e._v("Freet ID: "+e._s(e.freet.freetID))]),e.isUpvoted?e.isUpvoted?s("button",{attrs:{variant:"info"},on:{click:e.onUndoUpvote}},[e._v("Undo Upvote")]):e._e():s("button",{attrs:{variant:"info"},on:{click:e.onUpvote}},[e._v("Upvote")]),e._v(" # upvotes : "+e._s(e.voteCounts)+" "),s("div",{staticClass:"freet-item-actions"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.editFreetForm.content,expression:"editFreetForm.content"}],staticClass:"edit",attrs:{type:"text",name:"content",placeholder:"New Content"},domProps:{value:e.editFreetForm.content},on:{input:function(t){t.target.composing||e.$set(e.editFreetForm,"content",t.target.value)}}}),s("button",{on:{click:e.updateFreet}},[e._v("Update")]),s("button",{on:{click:e.deleteFreet}},[e._v("Delete")])])])},c=[],u=s("56d7"),l={name:"freet",components:{},props:{freet:Object,user:Object,isSignedIn:Boolean},data:function(){return{isUpvoted:!1,editFreetPopup:!1,editFreetForm:{content:""},voteCounts:this.countVotes(),freetContent:this.freet.content,freetCurrent:this.freet,author:{username:this.freet.creatorUserID}}},computed:{isAuthor:function(){return this.$cookie.get("fritter-auth")==this.freet.creatorUserID}},methods:{countVotes:function(){var e=this,t={id:this.freet.freetID};a.a.get("/api/upvote?id=".concat(t.id),t).then((function(t){e.voteCounts=t.data})).catch((function(e){u["eventBus"].$emit("count-votes-error",e)})).then((function(){}))},updateFreet:function(){var e=this,t={id:this.freet.freetID,content:this.editFreetForm.content};a.a.patch("/api/freets",t).then((function(t){e.freetContent=t.data.content,u["eventBus"].$emit("update-freet-success",t)})).catch((function(e){u["eventBus"].$emit("update-freet-error",e)})).then((function(){return e.editFreetForm.content=""}))},deleteFreet:function(){var e=this,t={id:this.freet.freetID};a.a.delete("/api/freets?id=".concat(t.id),t).then((function(){u["eventBus"].$emit("delete-freet-success",e.freet),e.freetCurrent={}})).catch((function(e){u["eventBus"].$emit("delete-freet-error",e)})).then((function(){}))},onUpvote:function(){var e=this,t={id:this.freet.freetID};a.a.post("/api/upvote",t).then((function(){e.isUpvoted=!0,e.voteCounts=e.countVotes()})).catch((function(e){u["eventBus"].$emit("upvote-error",e)})).then((function(){}))},onUndoUpvote:function(){var e=this,t={id:this.freet.freetID};a.a.patch("/api/upvote",t).then((function(){e.isUpvoted=!1,e.voteCounts=e.countVotes()})).catch((function(e){u["eventBus"].$emit("upvote-error",e)})).then((function(){}))}}},d=l,f=s("2877"),m=Object(f["a"])(d,i,c,!1,null,null,null),h=m.exports,v={name:"FreetList",components:{Freet:h},props:{user:Object,isSignedIn:Boolean},data:function(){return{error:"",success:"",freets:[]}},created:function(){var e=this;u["eventBus"].$on("create-freet-success",(function(t){e.freets.push(t.data)})),u["eventBus"].$on("update-freet-success",(function(t){e.success="Freet name ".concat(t.data.freetName," now resolves to ").concat(t.data.url),e.clearMessages(),e.loadFreets()})),u["eventBus"].$on("delete-freet-success",(function(t){e.success="Freet name ".concat(t.freetName," has been deleted"),e.clearMessages(),e.loadFreets()}))},mounted:function(){this.loadFreets()},methods:{loadFreets:function(){var e=this;a.a.get("/api/freets").then((function(t){e.freets=t.data}))},clearMessages:function(){var e=this;setInterval((function(){e.success="",e.error=""}),5e3)}}},p=v,g=Object(f["a"])(p,r,n,!1,null,null,null);t["a"]=g.exports},cd7f:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.isSignedIn?s("div",{staticClass:"form-container"},[s("CreateFreetForm"),s("FreetList")],1):s("div",{staticClass:"form-container"},[s("FreetList")],1)])},n=[],o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"subcontainer"},[s("div",{staticClass:"header primary-header"},[e._v(" Create Freet ")]),s("div",{staticClass:"freet-form-container"},[s("form",{attrs:{id:"create-freet",method:"post"},on:{submit:function(t){return t.preventDefault(),e.createFreet(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.freetName,expression:"freetName",modifiers:{trim:!0}}],attrs:{id:"name",type:"text",name:"freetName",placeholder:"Enter Freet Name"},domProps:{value:e.freetName},on:{input:function(t){t.target.composing||(e.freetName=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),s("input",{staticClass:"button",attrs:{type:"submit",value:"Create Freet",id:"createFreet"}}),e.success?s("div",{staticClass:"success-message"},[e._v(" "+e._s(e.success)+" ")]):e._e(),e.errors.length?s("div",{staticClass:"error-message"},[s("b",[e._v("Please correct the following error(s):")]),s("ul",e._l(e.errors,(function(t){return s("li",{key:t.id},[e._v(e._s(t))])})),0)]):e._e()])])])},a=[],i=s("bc3a"),c=s.n(i),u=s("56d7"),l={name:"CreateFreetForm",data:function(){return{errors:[],success:"",freetName:""}},methods:{createFreet:function(){var e=this;if(this.errors=[],""===this.freetName)this.errors.push("Freet name is required"),this.clearMessages();else{this.freetName.length>140&&(this.errors.push("Freet should be no longer than 140 words!"),this.clearMessages());var t={freetName:this.freetName};c.a.post("/api/freets",t).then((function(t){e.success="Freet created successfully!",u["eventBus"].$emit("create-freet-success",t)})).catch((function(t){e.errors.push(t.response.data.error)})).then((function(){e.resetForm(),e.clearMessages()}))}},resetForm:function(){this.freetName=""},clearMessages:function(){var e=this;setInterval((function(){e.errors=[],e.success=""}),5e3)}}},d=l,f=s("2877"),m=Object(f["a"])(d,o,a,!1,null,null,null),h=m.exports,v=s("ba84"),p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"subcontainer"},[s("div",{staticClass:"header secondary-header"},[e._v(" My Freets ")]),s("div",[e.success?s("div",{staticClass:"success-message"},[e._v(" "+e._s(e.success)+" ")]):e._e(),e.error?s("div",{staticClass:"error-message"},[e._v(" "+e._s(e.error)+" ")]):e._e(),s("div",{staticClass:"shorts-container"},[e.shorts.length?s("div",e._l(e.shorts,(function(e){return s("ShortListItem",{key:e.id,attrs:{short:e}})})),1):s("div",[s("p",{staticStyle:{"text-align":"center"}},[e._v("There are no shorts to display. Create one today!")])])])])])},g=[],_=s("831d"),b={name:"ShortList",components:{ShortListItem:_["a"]},data:function(){return{error:"",success:"",shorts:[]}},created:function(){var e=this;u["eventBus"].$on("create-short-success",(function(t){e.shorts.push(t.data)})),u["eventBus"].$on("update-short-success",(function(t){e.success="Short name ".concat(t.data.shortName," now resolves to ").concat(t.data.url),e.clearMessages(),e.loadShorts()})),u["eventBus"].$on("delete-short-success",(function(t){e.success="Short name ".concat(t.shortName," has been deleted"),e.clearMessages(),e.loadShorts()})),u["eventBus"].$on("update-short-error",(function(t){e.error="Error updating short ".concat(t.data.shortName),e.clearMessages(),e.loadShorts()})),u["eventBus"].$on("delete-short-error",(function(t){e.error="Error deleting short ".concat(t.shortName),e.clearMessages(),e.loadShorts()}))},mounted:function(){this.loadShorts()},methods:{loadShorts:function(){var e=this;c.a.get("/api/shorts").then((function(t){e.shorts=t.data}))},clearMessages:function(){var e=this;setInterval((function(){e.success="",e.error=""}),5e3)}}},F=b,C=Object(f["a"])(F,p,g,!1,null,null,null),$=C.exports,S={name:"main",components:{CreateFreetForm:h,FreetList:v["a"],MyFreetList:$},data:function(){return{isSignedIn:!1,messages:[]}},created:function(){var e=this.$cookie.get("fritter-auth");e&&(this.isSignedIn=!0)}},w=S,I=Object(f["a"])(w,r,n,!1,null,null,null);t["a"]=I.exports},d331:function(e,t,s){"use strict";var r=s("925e"),n=s.n(r);n.a}}]);
//# sourceMappingURL=chunk-fe0e14ee.95d652a3.js.map