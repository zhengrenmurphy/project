(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-daf14e38"],{"831d":function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"short-container"},[r("div",{staticClass:"short-name"},[e._v(" "+e._s(e.short.shortName))]),r("p",[e._v("Creator ID: "+e._s(e.creatorIdentity))]),r("p",[e._v("Short URL: "),r("a",{attrs:{target:"_blank",href:"http://localhost:3000/"+e.short.shortName}},[e._v(" http://localhost:3000/"+e._s(e.short.shortName)+" ")])]),r("a",{attrs:{target:"_blank",href:e.short.url}},[e._v(" "+e._s(e.short.url)+" ")]),r("div",{staticClass:"short-item-actions"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.url,expression:"url",modifiers:{trim:!0}}],staticClass:"edit",attrs:{type:"text",name:"url",placeholder:"New Url"},domProps:{value:e.url},on:{input:function(t){t.target.composing||(e.url=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("button",{on:{click:e.updateShort}},[e._v("Update")]),r("button",{on:{click:e.deleteShort}},[e._v("Delete")])])])},n=[],o=r("bc3a"),a=r.n(o),c=r("56d7"),i={name:"ShortListItem",props:{short:Object},data:function(){return{url:""}},computed:{creatorIdentity:function(){return this.short.creator?this.short.creator:"anonymous"}},methods:{updateShort:function(){var e=this,t={url:this.url};a.a.put("/api/shorts/".concat(this.short.shortName),t).then((function(e){c["eventBus"].$emit("update-short-success",e)})).catch((function(e){c["eventBus"].$emit("update-short-error",e)})).then((function(){return e.url=""}))},deleteShort:function(){var e=this;a.a.delete("/api/shorts/".concat(this.short.shortName),{}).then((function(){c["eventBus"].$emit("delete-short-success",e.short)})).catch((function(e){c["eventBus"].$emit("delete-short-error",e)}))}}},u=i,l=r("2877"),d=Object(l["a"])(u,s,n,!1,null,null,null);t["a"]=d.exports},ba84:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"subcontainer"},[r("div",{staticClass:"header secondary-header"},[e._v(" Freets ")]),r("div",[e.success?r("div",{staticClass:"success-message"},[e._v(" "+e._s(e.success)+" ")]):e._e(),e.error?r("div",{staticClass:"error-message"},[e._v(" "+e._s(e.error)+" ")]):e._e(),r("div",{staticClass:"freets-container"},[e.freets.length?r("div",e._l(e.freets,(function(e){return r("Freet",{key:e.id,attrs:{freet:e}})})),1):r("div",[r("p",{staticStyle:{"text-align":"center"}},[e._v("There are no freets to display. Create one today!")])])])])])},n=[],o=r("bc3a"),a=r.n(o),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"freet-container"},[r("div",{staticClass:"freet-name"},[e._v(" "+e._s(e.freet.freetID))]),r("p",[e._v("Creator ID: "+e._s(e.freet.creatorUserID))]),r("p",[e._v("Freet Content: "+e._s(e.freetContent))]),r("p",[e._v("Freet ID: "+e._s(e.freet.freetID))]),e.isUpvoted?e.isUpvoted?r("button",{attrs:{variant:"info"},on:{click:e.onUndoUpvote}},[e._v("Undo Upvote")]):e._e():r("button",{attrs:{variant:"info"},on:{click:e.onUpvote}},[e._v("Upvote")]),e._v(" # upvotes : "+e._s(e.voteCounts)+" "),r("div",{staticClass:"freet-item-actions"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.editFreetForm.content,expression:"editFreetForm.content"}],staticClass:"edit",attrs:{type:"text",name:"content",placeholder:"New Content"},domProps:{value:e.editFreetForm.content},on:{input:function(t){t.target.composing||e.$set(e.editFreetForm,"content",t.target.value)}}}),r("button",{on:{click:e.updateFreet}},[e._v("Update")]),r("button",{on:{click:e.deleteFreet}},[e._v("Delete")])])])},i=[],u=r("56d7"),l={name:"freet",components:{},props:{freet:Object,user:Object,isSignedIn:Boolean},data:function(){return{isUpvoted:!1,editFreetPopup:!1,editFreetForm:{content:""},voteCounts:this.countVotes(),freetContent:this.freet.content,freetCurrent:this.freet,author:{username:this.freet.creatorUserID}}},computed:{isAuthor:function(){return this.$cookie.get("fritter-auth")==this.freet.creatorUserID}},methods:{countVotes:function(){var e=this,t={id:this.freet.freetID};a.a.get("/api/upvote?id=".concat(t.id),t).then((function(t){e.voteCounts=t.data})).catch((function(e){u["eventBus"].$emit("count-votes-error",e)})).then((function(){}))},updateFreet:function(){var e=this,t={id:this.freet.freetID,content:this.editFreetForm.content};a.a.patch("/api/freets",t).then((function(t){e.freetContent=t.data.content,u["eventBus"].$emit("update-freet-success",t)})).catch((function(e){u["eventBus"].$emit("update-freet-error",e)})).then((function(){return e.editFreetForm.content=""}))},deleteFreet:function(){var e=this,t={id:this.freet.freetID};a.a.delete("/api/freets?id=".concat(t.id),t).then((function(){u["eventBus"].$emit("delete-freet-success",e.freet),e.freetCurrent={}})).catch((function(e){u["eventBus"].$emit("delete-freet-error",e)})).then((function(){}))},onUpvote:function(){var e=this,t={id:this.freet.freetID};a.a.post("/api/upvote",t).then((function(){e.isUpvoted=!0,e.voteCounts=e.countVotes()})).catch((function(e){u["eventBus"].$emit("upvote-error",e)})).then((function(){}))},onUndoUpvote:function(){var e=this,t={id:this.freet.freetID};a.a.patch("/api/upvote",t).then((function(){e.isUpvoted=!1,e.voteCounts=e.countVotes()})).catch((function(e){u["eventBus"].$emit("upvote-error",e)})).then((function(){}))}}},d=l,h=r("2877"),f=Object(h["a"])(d,c,i,!1,null,null,null),v=f.exports,m={name:"FreetList",components:{Freet:v},props:{user:Object,isSignedIn:Boolean},data:function(){return{error:"",success:"",freets:[]}},created:function(){var e=this;u["eventBus"].$on("create-freet-success",(function(t){e.freets.push(t.data)})),u["eventBus"].$on("update-freet-success",(function(t){e.success="Freet name ".concat(t.data.freetName," now resolves to ").concat(t.data.url),e.clearMessages(),e.loadFreets()})),u["eventBus"].$on("delete-freet-success",(function(t){e.success="Freet name ".concat(t.freetName," has been deleted"),e.clearMessages(),e.loadFreets()}))},mounted:function(){this.loadFreets()},methods:{loadFreets:function(){var e=this;a.a.get("/api/freets").then((function(t){e.freets=t.data}))},clearMessages:function(){var e=this;setInterval((function(){e.success="",e.error=""}),5e3)}}},p=m,_=Object(h["a"])(p,s,n,!1,null,null,null);t["a"]=_.exports},cd56:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"main"},[r("FritterTitle")],1)])},n=[],o=r("cd7f"),a={name:"main",components:{FritterTitle:o["a"]}},c=a,i=r("2877"),u=Object(i["a"])(c,s,n,!1,null,null,null);t["default"]=u.exports},cd7f:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.isSignedIn?r("div",{staticClass:"form-container"},[r("CreateFreetForm"),r("FreetList")],1):r("div",{staticClass:"form-container"},[r("FreetList")],1)])},n=[],o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"subcontainer"},[r("div",{staticClass:"header primary-header"},[e._v(" Create Freet ")]),r("div",{staticClass:"freet-form-container"},[r("form",{attrs:{id:"create-freet",method:"post"},on:{submit:function(t){return t.preventDefault(),e.createFreet(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.freetName,expression:"freetName",modifiers:{trim:!0}}],attrs:{id:"name",type:"text",name:"freetName",placeholder:"Enter Freet Name"},domProps:{value:e.freetName},on:{input:function(t){t.target.composing||(e.freetName=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),r("input",{staticClass:"button",attrs:{type:"submit",value:"Create Freet",id:"createFreet"}}),e.success?r("div",{staticClass:"success-message"},[e._v(" "+e._s(e.success)+" ")]):e._e(),e.errors.length?r("div",{staticClass:"error-message"},[r("b",[e._v("Please correct the following error(s):")]),r("ul",e._l(e.errors,(function(t){return r("li",{key:t.id},[e._v(e._s(t))])})),0)]):e._e()])])])},a=[],c=r("bc3a"),i=r.n(c),u=r("56d7"),l={name:"CreateFreetForm",data:function(){return{errors:[],success:"",freetName:""}},methods:{createFreet:function(){var e=this;if(this.errors=[],""===this.freetName)this.errors.push("Freet name is required"),this.clearMessages();else{this.freetName.length>140&&(this.errors.push("Freet should be no longer than 140 words!"),this.clearMessages());var t={freetName:this.freetName};i.a.post("/api/freets",t).then((function(t){e.success="Freet created successfully!",u["eventBus"].$emit("create-freet-success",t)})).catch((function(t){e.errors.push(t.response.data.error)})).then((function(){e.resetForm(),e.clearMessages()}))}},resetForm:function(){this.freetName=""},clearMessages:function(){var e=this;setInterval((function(){e.errors=[],e.success=""}),5e3)}}},d=l,h=r("2877"),f=Object(h["a"])(d,o,a,!1,null,null,null),v=f.exports,m=r("ba84"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"subcontainer"},[r("div",{staticClass:"header secondary-header"},[e._v(" My Freets ")]),r("div",[e.success?r("div",{staticClass:"success-message"},[e._v(" "+e._s(e.success)+" ")]):e._e(),e.error?r("div",{staticClass:"error-message"},[e._v(" "+e._s(e.error)+" ")]):e._e(),r("div",{staticClass:"shorts-container"},[e.shorts.length?r("div",e._l(e.shorts,(function(e){return r("ShortListItem",{key:e.id,attrs:{short:e}})})),1):r("div",[r("p",{staticStyle:{"text-align":"center"}},[e._v("There are no shorts to display. Create one today!")])])])])])},_=[],F=r("831d"),g={name:"ShortList",components:{ShortListItem:F["a"]},data:function(){return{error:"",success:"",shorts:[]}},created:function(){var e=this;u["eventBus"].$on("create-short-success",(function(t){e.shorts.push(t.data)})),u["eventBus"].$on("update-short-success",(function(t){e.success="Short name ".concat(t.data.shortName," now resolves to ").concat(t.data.url),e.clearMessages(),e.loadShorts()})),u["eventBus"].$on("delete-short-success",(function(t){e.success="Short name ".concat(t.shortName," has been deleted"),e.clearMessages(),e.loadShorts()})),u["eventBus"].$on("update-short-error",(function(t){e.error="Error updating short ".concat(t.data.shortName),e.clearMessages(),e.loadShorts()})),u["eventBus"].$on("delete-short-error",(function(t){e.error="Error deleting short ".concat(t.shortName),e.clearMessages(),e.loadShorts()}))},mounted:function(){this.loadShorts()},methods:{loadShorts:function(){var e=this;i.a.get("/api/shorts").then((function(t){e.shorts=t.data}))},clearMessages:function(){var e=this;setInterval((function(){e.success="",e.error=""}),5e3)}}},C=g,b=Object(h["a"])(C,p,_,!1,null,null,null),$=b.exports,N={name:"main",components:{CreateFreetForm:v,FreetList:m["a"],MyFreetList:$},data:function(){return{isSignedIn:!1,messages:[]}},created:function(){var e=this.$cookie.get("fritter-auth");e&&(this.isSignedIn=!0)}},I=N,S=Object(h["a"])(I,s,n,!1,null,null,null);t["a"]=S.exports}}]);
//# sourceMappingURL=chunk-daf14e38.86810d88.js.map