{"remainingRequest":"/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/thread-loader/dist/cjs.js!/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/babel-loader/lib/index.js!/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/src/components/OtherUser/OtherUserProfileHeader.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/src/components/OtherUser/OtherUserProfileHeader.vue","mtime":1604342574961},{"path":"/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5mcm9tIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLnRvLXN0cmluZyI7CgpmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQ7IGlmICh0eXBlb2YgU3ltYm9sID09PSAidW5kZWZpbmVkIiB8fCBvW1N5bWJvbC5pdGVyYXRvcl0gPT0gbnVsbCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gb1tTeW1ib2wuaXRlcmF0b3JdKCk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXQucmV0dXJuICE9IG51bGwpIGl0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9CgpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09ICJzdHJpbmciKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09ICJNYXAiIHx8IG4gPT09ICJTZXQiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfQoKZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgeyBldmVudEJ1cyB9IGZyb20gIi4uLy4uL21haW4iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ090aGVyVXNlclByb2ZpbGVIZWFkZXInLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlcnJvcnM6IFtdLAogICAgICBmb2xsb3dpbmc6IFtdCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIHVzZXI6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0Rm9sbG93aW5nKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBmb2xsb3c6IGZ1bmN0aW9uIGZvbGxvdyh1c2VySWQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBib2R5Q29udGVudCA9IHsKICAgICAgICBuYW1lOiB1c2VySWQKICAgICAgfTsKICAgICAgYXhpb3MucG9zdCgiL2FwaS9mb2xsb3dzLyIsIGJvZHlDb250ZW50KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBoYW5kbGUgc3VjY2VzcwogICAgICAgIF90aGlzLmZvbGxvd2luZy5wdXNoKHVzZXJJZCk7CgogICAgICAgIGV2ZW50QnVzLiRlbWl0KCdmb2xsb3ctc3VjY2VzcycsIHVzZXJJZCk7CiAgICAgIH0pOwogICAgfSwKICAgIGlzRm9sbG93aW5nOiBmdW5jdGlvbiBpc0ZvbGxvd2luZyh1c2VySWQpIHsKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuZm9sbG93aW5nKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGZvbGxvd0lkID0gX3N0ZXAudmFsdWU7CgogICAgICAgICAgaWYgKHVzZXJJZCA9PT0gZm9sbG93SWQpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICBnZXRGb2xsb3dpbmc6IGZ1bmN0aW9uIGdldEZvbGxvd2luZygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgYm9keUNvbnRlbnQgPSB7fTsKICAgICAgYXhpb3MuZ2V0KCIvYXBpL2ZvbGxvd3MvZm9sbG93aW5nIiwgYm9keUNvbnRlbnQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5mb2xsb3dpbmcgPSByZXMuZGF0YS5mb2xsb3dpbmcubWFwKGZ1bmN0aW9uICh1KSB7CiAgICAgICAgICByZXR1cm4gdS5mb2xsb3dlZElEOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICB1bkZvbGxvdzogZnVuY3Rpb24gdW5Gb2xsb3codXNlcklkKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGJvZHlDb250ZW50ID0gewogICAgICAgIG5hbWU6IHVzZXJJZAogICAgICB9OwogICAgICBheGlvcy5wdXQoIi9hcGkvZm9sbG93cy8iLCBib2R5Q29udGVudCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gaGFuZGxlIHN1Y2Nlc3MKICAgICAgICBldmVudEJ1cy4kZW1pdCgndW5mb2xsb3ctc3VjY2VzcycsIHVzZXJJZCk7CgogICAgICAgIHZhciBpbmRleCA9IF90aGlzMy5mb2xsb3dpbmcuaW5kZXhPZih1c2VySWQpOwoKICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7CiAgICAgICAgICBfdGhpczMuZm9sbG93aW5nLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyB1bkZvbGxvdyAodXNlcklkKSB7CiAgICAvLyAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3R3ZWV0ci10b2tlbicpCiAgICAvLyAgIGF4aW9zCiAgICAvLyAgICAgLmRlbGV0ZShgL2FwaS9mb2xsb3dzLyR7dXNlcklkfWAsIHsKICAgIC8vICAgICAgIGhlYWRlcnM6IHsKICAgIC8vICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAKICAgIC8vICAgICAgIH0KICAgIC8vICAgICB9KQogICAgLy8gICAgIC50aGVuKCgpID0+IHsKICAgIC8vICAgICAgIHRoaXMuYXV0aFVzZXIuZm9sbG93aW5nID0gdGhpcy5hdXRoVXNlci5mb2xsb3dpbmcuZmlsdGVyKHUgPT4gewogICAgLy8gICAgICAgICByZXR1cm4gdS5pZCAhPT0gdXNlcklkCiAgICAvLyAgICAgICB9KQogICAgLy8gICAgIH0pCiAgICAvLyB9LAogICAgY2xlYXJNZXNzYWdlczogZnVuY3Rpb24gY2xlYXJNZXNzYWdlcygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LmVycm9ycyA9IFtdOwogICAgICB9LCA1MDAwKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["OtherUserProfileHeader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,QAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,wBADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AASA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AADA,GATA;AAeA,EAAA,OAAA,EAAA,mBAAA;AACA,SAAA,YAAA;AACA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AAEA,IAAA,MAFA,kBAEA,MAFA,EAEA;AAAA;;AACA,UAAA,WAAA,GAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,MAAA,KAAA,CACA,IADA,CACA,eADA,EACA,WADA,EAEA,IAFA,CAEA,YAAA;AACA;AACA,QAAA,KAAA,CAAA,SAAA,CAAA,IAAA,CAAA,MAAA;;AACA,QAAA,QAAA,CAAA,KAAA,CAAA,gBAAA,EAAA,MAAA;AACA,OANA;AAOA,KAXA;AAaA,IAAA,WAbA,uBAaA,MAbA,EAaA;AAAA,iDAEA,KAAA,SAFA;AAAA;;AAAA;AAEA,4DAAA;AAAA,cAAA,QAAA;;AAEA,cAAA,MAAA,KAAA,QAAA,EAAA;AACA,mBAAA,IAAA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;;AASA,aAAA,KAAA;AACA,KAvBA;AAyBA,IAAA,YAzBA,0BAyBA;AAAA;;AACA,UAAA,WAAA,GAAA,EAAA;AACA,MAAA,KAAA,CACA,GADA,CACA,wBADA,EACA,WADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,SAAA,CAAA,GAAA,CAAA,UAAA,CAAA;AAAA,iBAAA,CAAA,CAAA,UAAA;AAAA,SAAA,CAAA;AACA,OAJA;AAMA,KAjCA;AAkCA,IAAA,QAlCA,oBAkCA,MAlCA,EAkCA;AAAA;;AACA,UAAA,WAAA,GAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,MAAA,KAAA,CACA,GADA,CACA,eADA,EACA,WADA,EAEA,IAFA,CAEA,YAAA;AACA;AACA,QAAA,QAAA,CAAA,KAAA,CAAA,kBAAA,EAAA,MAAA;;AACA,YAAA,KAAA,GAAA,MAAA,CAAA,SAAA,CAAA,OAAA,CAAA,MAAA,CAAA;;AACA,YAAA,KAAA,KAAA,CAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,SAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA;AACA,OATA;AAUA,KA9CA;AAgDA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAA,aAAA,EAAA,yBAAA;AAAA;;AACA,MAAA,WAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,EAAA;AACA,OAFA,EAEA,IAFA,CAAA;AAGA;AApEA;AAlBA,CAAA","sourcesContent":["<template>\n  <div class=\"ui segment\">\n    <div class=\"ui grid container\">\n      <div class=\"four wide column\">\n        <img class=\"ui tiny avatar image\" src=\"https://www.gravatar.com/avatar/default?s=200&r=pg&d=mm\">\n        <h2>Username: {{user.name}}</h2>\n        User Id: {{user.id}}\n\n      </div>\n<!--       <div class=\"bottom aligned twelve wide column\">\n        <div class=\"ui horizontal relaxed link list\">\n          <div class=\"item\">\n            <div class=\"content\">\n              <router-link :to=\"`/${user.username}`\">\n                <div class=\"header\">Tweets</div>\n                <strong>{{ user.tweets.length }}</strong>\n              </router-link>\n            </div>\n          </div>\n          <div class=\"item\">\n            <div class=\"content\">\n              <router-link :to=\"isOwner ? `/following` : `/${user.username}/following`\">\n                <div class=\"header\">Following</div>\n                <strong>{{ user.following.length }}</strong>\n              </router-link>\n            </div>\n          </div>\n          <div class=\"item\">\n            <div class=\"content\">\n              <router-link :to=\"isOwner ? `/followers` : `/${user.username}/followers`\">\n                <div class=\"header\">Followers</div>\n                <strong>{{ user.followers.length }}</strong>\n              </router-link>\n            </div>\n          </div>\n          <div class=\"item\">\n            <div class=\"content\">\n              <router-link :to=\"isOwner ? `/favorites` : `/${user.username}/favorites`\">\n                <div class=\"header\">Favorites</div>\n                <strong>{{ user.favorites.length }}</strong>\n              </router-link>\n            </div>\n          </div>\n        </div>\n        <div class=\"ui right floated horizontal list\" v-if=\"isOwner\">\n          <router-link to=\"/settings/profile\" class=\"ui button primary\">Edit profile</router-link>\n        </div> -->\n        <div class=\"ui right floated horizontal list\" >\n          <button class=\"ui tiny primary button\" v-if=\"isFollowing(user.id)\" @click=\"unFollow(user.id)\">Unfollow</button>\n          <button class=\"ui tiny primary button\" v-else @click=\"follow(user.id)\">Follow</button>\n        </div>\n<!--       </div> $route.params.username\n -->    </div>\n  <div v-if='errors.length' class=\"error-message\" style=\"width: 250px;\">\n      <b>Please correct the following error(s):</b>\n      <ul>\n        <li v-for='error in errors' v-bind:key='error.id'>{{ error }}</li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { eventBus } from \"../../main\";\n\n  export default {\n    name: 'OtherUserProfileHeader',\n    data() {\n        return {\n          errors: [],\n          following : []\n        }\n    },\n\n    props: {\n      user: {\n        type: Object,\n        required: true\n      }\n    },\n    created: function() {\n      this.getFollowing();\n    },\n    methods: {\n\n      follow (userId){\n        const bodyContent = { name: userId};\n        axios\n          .post(\"/api/follows/\", bodyContent)\n          .then(() => {\n            // handle success\n            this.following.push(userId);\n            eventBus.$emit('follow-success', userId);\n          })\n      },\n\n      isFollowing (userId) {\n        \n        for (const followId of this.following) {\n\n          if (userId === followId) {\n            return true\n          }\n        }\n\n        return false\n      },\n\n      getFollowing () {\n        const bodyContent = {};\n        axios\n          .get(\"/api/follows/following\", bodyContent)\n          .then((res) => {\n            this.following = res.data.following.map(u => u.followedID);\n          });\n          \n      },\n      unFollow (userId){\n        const bodyContent = { name: userId};\n        axios\n          .put(\"/api/follows/\", bodyContent)\n          .then(() => {\n            // handle success\n            eventBus.$emit('unfollow-success', userId);\n            var index = this.following.indexOf(userId);\n            if (index !== -1) {\n              this.following.splice(index, 1);\n            }\n          })\n      },\n\n      // unFollow (userId) {\n      //   const token = localStorage.getItem('tweetr-token')\n\n      //   axios\n      //     .delete(`/api/follows/${userId}`, {\n      //       headers: {\n      //         Authorization: `Bearer ${token}`\n      //       }\n      //     })\n      //     .then(() => {\n      //       this.authUser.following = this.authUser.following.filter(u => {\n      //         return u.id !== userId\n      //       })\n      //     })\n      // },\n\n    clearMessages: function() {\n      setInterval(() => {\n        this.errors = [];\n      }, 5000);\n    }\n    }\n  }\n\n</script>"],"sourceRoot":"src/components/OtherUser"}]}