{"remainingRequest":"/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/thread-loader/dist/cjs.js!/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/babel-loader/lib/index.js!/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/src/components/Freet.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/src/components/Freet.vue","mtime":1604378159343},{"path":"/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgZXZlbnRCdXMgfSBmcm9tICIuLi9tYWluIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJmcmVldCIsCiAgY29tcG9uZW50czogey8vIFRPRE8KICB9LAogIHByb3BzOiB7CiAgICBmcmVldDogT2JqZWN0LAogICAgdXNlcjogT2JqZWN0LAogICAgaXNTaWduZWRJbjogQm9vbGVhbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzVXB2b3RlZDogZmFsc2UsCiAgICAgIC8vIGlzUmVmcmVldGVkIDogZmFsc2UsIAogICAgICBlZGl0RnJlZXRQb3B1cDogZmFsc2UsCiAgICAgIGVkaXRGcmVldEZvcm06IHsKICAgICAgICBjb250ZW50OiAnJwogICAgICB9LAogICAgICB2b3RlQ291bnRzOiB0aGlzLmNvdW50Vm90ZXMoKSwKICAgICAgZnJlZXRDb250ZW50OiB0aGlzLmZyZWV0LmNvbnRlbnQsCiAgICAgIGZyZWV0Q3VycmVudDogdGhpcy5mcmVldCwKICAgICAgYXV0aG9yOiB7CiAgICAgICAgdXNlcm5hbWU6IHRoaXMuZnJlZXQuY3JlYXRvclVzZXJJRAogICAgICB9CiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzQXV0aG9yOiBmdW5jdGlvbiBpc0F1dGhvcigpIHsKICAgICAgLy8gcHJvYmxlbSB0aGlzIGlzIG5hbWUgbm90IElECiAgICAgIHJldHVybiB0aGlzLiRjb29raWUuZ2V0KCdmcml0dGVyLWF1dGgnKSA9PSB0aGlzLmZyZWV0LmNyZWF0b3JVc2VySUQ7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjb3VudFZvdGVzOiBmdW5jdGlvbiBjb3VudFZvdGVzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGJvZHlDb250ZW50ID0gewogICAgICAgIGlkOiB0aGlzLmZyZWV0LmZyZWV0SUQKICAgICAgfTsKICAgICAgYXhpb3MuZ2V0KCIvYXBpL3Vwdm90ZT9pZD0iLmNvbmNhdChib2R5Q29udGVudC5pZCksIGJvZHlDb250ZW50KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8vIGNvbnNvbGUubG9nKCdjdXJyZW50IHZvdGVzOiAnLCByZXNwb25zZS5kYXRhLnZvdGVzKTsKICAgICAgICBfdGhpcy52b3RlQ291bnRzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGV2ZW50QnVzLiRlbWl0KCJjb3VudC12b3Rlcy1lcnJvciIsIGVycik7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIHVwZGF0ZUZyZWV0OiBmdW5jdGlvbiB1cGRhdGVGcmVldCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgYm9keSA9IHsKICAgICAgICBpZDogdGhpcy5mcmVldC5mcmVldElELAogICAgICAgIGNvbnRlbnQ6IHRoaXMuZWRpdEZyZWV0Rm9ybS5jb250ZW50CiAgICAgIH07CiAgICAgIGF4aW9zLnBhdGNoKCIvYXBpL2ZyZWV0cyIsIGJvZHkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vIGhhbmRsZSBzdWNjZXNzCiAgICAgICAgLy8gY29uc29sZS5sb2coJ2VkaXQtZnJlZXQtc3VjY2VzcycpCiAgICAgICAgX3RoaXMyLmZyZWV0Q29udGVudCA9IHJlcy5kYXRhLmNvbnRlbnQ7CiAgICAgICAgZXZlbnRCdXMuJGVtaXQoInVwZGF0ZS1mcmVldC1zdWNjZXNzIiwgcmVzKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIC8vIGhhbmRsZSBlcnJvcgogICAgICAgIGV2ZW50QnVzLiRlbWl0KCJ1cGRhdGUtZnJlZXQtZXJyb3IiLCBlcnIpOwogICAgICB9KSAvLyBwcm9ibGVtIDIhCiAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMyLmVkaXRGcmVldEZvcm0uY29udGVudCA9ICIiOwogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVGcmVldDogZnVuY3Rpb24gZGVsZXRlRnJlZXQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGJvZHkgPSB7CiAgICAgICAgaWQ6IHRoaXMuZnJlZXQuZnJlZXRJRAogICAgICB9OwogICAgICBheGlvcy5kZWxldGUoIi9hcGkvZnJlZXRzP2lkPSIuY29uY2F0KGJvZHkuaWQpLCBib2R5KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBldmVudEJ1cy4kZW1pdCgiZGVsZXRlLWZyZWV0LXN1Y2Nlc3MiLCBfdGhpczMuZnJlZXQpOwogICAgICAgIF90aGlzMy5mcmVldEN1cnJlbnQgPSB7fTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGV2ZW50QnVzLiRlbWl0KCJkZWxldGUtZnJlZXQtZXJyb3IiLCBlcnIpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0sCiAgICBvblVwdm90ZTogZnVuY3Rpb24gb25VcHZvdGUoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgLy8gY29uc29sZS5sb2coJ3Vwdm90ZScpOwogICAgICAvLyBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIGJvZHkgPSB7CiAgICAgICAgaWQ6IHRoaXMuZnJlZXQuZnJlZXRJRAogICAgICB9OwogICAgICBheGlvcy5wb3N0KCIvYXBpL3Vwdm90ZSIsIGJvZHkpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNC5pc1Vwdm90ZWQgPSB0cnVlOwogICAgICAgIF90aGlzNC52b3RlQ291bnRzID0gX3RoaXM0LmNvdW50Vm90ZXMoKTsgLy8gdGhpcy5jb3VudFZvdGVzKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBldmVudEJ1cy4kZW1pdCgidXB2b3RlLWVycm9yIiwgZXJyKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7fSk7CiAgICB9LAogICAgb25VbmRvVXB2b3RlOiBmdW5jdGlvbiBvblVuZG9VcHZvdGUoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIGJvZHlDb250ZW50ID0gewogICAgICAgIGlkOiB0aGlzLmZyZWV0LmZyZWV0SUQKICAgICAgfTsKICAgICAgYXhpb3MucGF0Y2goIi9hcGkvdXB2b3RlIiwgYm9keUNvbnRlbnQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNS5pc1Vwdm90ZWQgPSBmYWxzZTsKICAgICAgICBfdGhpczUudm90ZUNvdW50cyA9IF90aGlzNS5jb3VudFZvdGVzKCk7IC8vIHRoaXMuY291bnRWb3RlcygpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgZXZlbnRCdXMuJGVtaXQoInVwdm90ZS1lcnJvciIsIGVycik7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge30pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Freet.vue"],"names":[],"mappings":"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","sourcesContent":["\n<template>\n  <div class=\"freet-container\">\n\n\n    \n\n    <div class=\"freet-name\"> {{ freet.freetID }}</div>\n    <p>Creator ID: {{ freet.creatorUserID }}</p>\n    <p>Freet Content: {{ freetContent }}</p>\n    <p>Freet ID: {{ freet.freetID }}</p>\n    <button v-if=\"!isUpvoted\" \n                v-on:click=\"onUpvote\"\n                variant=\"info\">Upvote</button>\n\n    <button v-else-if=\"isUpvoted\" \n                v-on:click=\"onUndoUpvote\"\n                variant=\"info\">Undo Upvote</button>\n\n    # upvotes : {{voteCounts}}\n    \n      \n    \n    <div class=\"freet-item-actions\">\n      <input class=\"edit\" v-model='editFreetForm.content' type=\"text\" name=\"content\" placeholder=\"New Content\">\n      <button v-on:click=\"updateFreet\">Update</button>\n      <button v-on:click=\"deleteFreet\">Delete</button>\n\n    </div>\n  </div>\n</template>\n\n\n<script>\n  import axios from \"axios\";\n  import { eventBus } from \"../main\";\n\n\n  export default {\n    name: \"freet\",\n    components: {\n      // TODO\n    },\n    props: {\n      freet: Object,\n      user : Object,\n      isSignedIn:Boolean,\n    },\n    data () {\n        return {\n          isUpvoted : false,\n          // isRefreeted : false, \n          editFreetPopup: false, \n          editFreetForm : {\n            content : '',\n          },\n          voteCounts : this.countVotes(),\n          freetContent : this.freet.content,\n          freetCurrent : this.freet,\n          author : {\n            username : this.freet.creatorUserID,\n          },\n        }\n      },\n    \n\n    computed : {\n      isAuthor () {\n        // problem this is name not ID\n        return this.$cookie.get('fritter-auth') == this.freet.creatorUserID;\n      },\n    },\n\n    methods : {\n      countVotes() {\n        const bodyContent = { id : this.freet.freetID};\n        axios.get(`/api/upvote?id=${bodyContent.id}`, bodyContent)\n          .then((response) => {\n            // console.log('current votes: ', response.data.votes);\n            this.voteCounts = response.data;\n          }).catch(err => {\n            eventBus.$emit(\"count-votes-error\", err);\n          }).then(() => {\n          });\n      },\n\n      updateFreet: function() {\n      const body = { id : this.freet.freetID, content : this.editFreetForm.content };\n      axios\n        .patch(`/api/freets`, body)\n        .then((res) => {\n          // handle success\n          // console.log('edit-freet-success')\n          this.freetContent = res.data.content;\n          eventBus.$emit(\"update-freet-success\", res);\n        })\n        .catch(err => {\n          // handle error\n          eventBus.$emit(\"update-freet-error\", err);\n        })\n        // problem 2!\n        .then(() => ( this.editFreetForm.content = \"\"));\n      },\n\n      deleteFreet: function() {\n      const body = { id : this.freet.freetID};\n      axios\n        .delete(`/api/freets?id=${body.id}`, body)\n        .then(() => {\n          eventBus.$emit(\"delete-freet-success\", this.freet);\n          this.freetCurrent = {}\n        })\n        .catch(err => {\n          eventBus.$emit(\"delete-freet-error\", err);\n        }).then(() => {\n        });\n        },\n\n\n      onUpvote: function() {\n        // console.log('upvote');\n        // evt.preventDefault();\n        const body = { id : this.freet.freetID };\n        axios.post(`/api/upvote`, body)\n          .then(() => {\n            this.isUpvoted = true;\n            this.voteCounts = this.countVotes();\n            // this.countVotes();\n          })\n          .catch(err => {\n            eventBus.$emit(\"upvote-error\", err);\n          }).then(() => {\n          });\n      },\n\n      onUndoUpvote: function() {\n        const bodyContent = { id : this.freet.freetID };\n        axios.patch(\"/api/upvote\", bodyContent)\n          .then(() => {\n            this.isUpvoted = false;\n            this.voteCounts = this.countVotes();\n            // this.countVotes();\n          })\n          .catch(err => {\n            eventBus.$emit(\"upvote-error\", err);\n          }).then(() => {\n          });\n      }, \n\n\n\n\n  \n  \n\n\n\n\n\n    },\n\n\n\n\n  }\n\n</script>\n"],"sourceRoot":"src/components"}]}