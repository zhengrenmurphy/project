{"remainingRequest":"/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/babel-loader/lib/index.js!/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/src/components/OtherUser/OtherUserProfileHeader.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/src/components/OtherUser/OtherUserProfileHeader.vue","mtime":1604946767118},{"path":"/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/AS/a5-sanjass-zhengren/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5mcm9tIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYucmVnZXhwLnRvLXN0cmluZyI7CgpmdW5jdGlvbiBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQ7IGlmICh0eXBlb2YgU3ltYm9sID09PSAidW5kZWZpbmVkIiB8fCBvW1N5bWJvbC5pdGVyYXRvcl0gPT0gbnVsbCkgeyBpZiAoQXJyYXkuaXNBcnJheShvKSB8fCAoaXQgPSBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobykpIHx8IGFsbG93QXJyYXlMaWtlICYmIG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgeyBpZiAoaXQpIG8gPSBpdDsgdmFyIGkgPSAwOyB2YXIgRiA9IGZ1bmN0aW9uIEYoKSB7fTsgcmV0dXJuIHsgczogRiwgbjogZnVuY3Rpb24gbigpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfSwgZTogZnVuY3Rpb24gZShfZSkgeyB0aHJvdyBfZTsgfSwgZjogRiB9OyB9IHRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKTsgfSB2YXIgbm9ybWFsQ29tcGxldGlvbiA9IHRydWUsIGRpZEVyciA9IGZhbHNlLCBlcnI7IHJldHVybiB7IHM6IGZ1bmN0aW9uIHMoKSB7IGl0ID0gb1tTeW1ib2wuaXRlcmF0b3JdKCk7IH0sIG46IGZ1bmN0aW9uIG4oKSB7IHZhciBzdGVwID0gaXQubmV4dCgpOyBub3JtYWxDb21wbGV0aW9uID0gc3RlcC5kb25lOyByZXR1cm4gc3RlcDsgfSwgZTogZnVuY3Rpb24gZShfZTIpIHsgZGlkRXJyID0gdHJ1ZTsgZXJyID0gX2UyOyB9LCBmOiBmdW5jdGlvbiBmKCkgeyB0cnkgeyBpZiAoIW5vcm1hbENvbXBsZXRpb24gJiYgaXQucmV0dXJuICE9IG51bGwpIGl0LnJldHVybigpOyB9IGZpbmFsbHkgeyBpZiAoZGlkRXJyKSB0aHJvdyBlcnI7IH0gfSB9OyB9CgpmdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09ICJzdHJpbmciKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gIk9iamVjdCIgJiYgby5jb25zdHJ1Y3RvcikgbiA9IG8uY29uc3RydWN0b3IubmFtZTsgaWYgKG4gPT09ICJNYXAiIHx8IG4gPT09ICJTZXQiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09ICJBcmd1bWVudHMiIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgfQoKZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgeyBldmVudEJ1cyB9IGZyb20gIi4uLy4uL21haW4iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ090aGVyVXNlclByb2ZpbGVIZWFkZXInLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlcnJvcnM6IFtdLAogICAgICBmb2xsb3dpbmc6IFtdLAogICAgICBpc1NpZ25lZEluOiBmYWxzZQogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICB1c2VyOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldEZvbGxvd2luZygpOwogICAgdmFyIGF1dGhlbnRpY2F0ZWQgPSB0aGlzLiRjb29raWUuZ2V0KCdmcml0dGVyLWF1dGgnKTsKCiAgICBpZiAoYXV0aGVudGljYXRlZCkgewogICAgICB0aGlzLmlzU2lnbmVkSW4gPSB0cnVlOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0VXNlcklkOiBmdW5jdGlvbiBnZXRVc2VySWQodXNlcm5hbWUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGF4aW9zLmdldCgiL2FwaS91c2Vycy8iLmNvbmNhdCh1c2VybmFtZSkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMudXNlcl9pZCA9IHJlc3BvbnNlLmRhdGEudXNlci5pZDsKICAgICAgfSk7CiAgICB9LAogICAgZm9sbG93OiBmdW5jdGlvbiBmb2xsb3codXNlcklkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGJvZHlDb250ZW50ID0gewogICAgICAgIG5hbWU6IHVzZXJJZAogICAgICB9OwogICAgICBheGlvcy5wb3N0KCIvYXBpL2ZvbGxvd3MvIiwgYm9keUNvbnRlbnQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIC8vIGhhbmRsZSBzdWNjZXNzCiAgICAgICAgX3RoaXMyLmZvbGxvd2luZy5wdXNoKHVzZXJJZCk7CgogICAgICAgIGV2ZW50QnVzLiRlbWl0KCdmb2xsb3ctc3VjY2VzcycsIHVzZXJJZCk7CiAgICAgICAgZXZlbnRCdXMuJGVtaXQoJ3JlbG9hZF9mb2xsb3dlcnMnLCB0cnVlKTsKICAgICAgICBldmVudEJ1cy4kZW1pdCgncmVsb2FkX2ZvbGxvd2luZycsIHRydWUpOwogICAgICB9KTsKICAgIH0sCiAgICBpc0ZvbGxvd2luZzogZnVuY3Rpb24gaXNGb2xsb3dpbmcodXNlcklkKSB7CiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLmZvbGxvd2luZyksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBmb2xsb3dJZCA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgIGlmICh1c2VySWQgPT09IGZvbGxvd0lkKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgfSBmaW5hbGx5IHsKICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAogICAgZ2V0Rm9sbG93aW5nOiBmdW5jdGlvbiBnZXRGb2xsb3dpbmcoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGJvZHlDb250ZW50ID0ge307CiAgICAgIGF4aW9zLmdldCgiL2FwaS9mb2xsb3dzL2ZvbGxvd2luZyIsIGJvZHlDb250ZW50KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMuZm9sbG93aW5nID0gcmVzLmRhdGEuZm9sbG93aW5nLm1hcChmdW5jdGlvbiAodSkgewogICAgICAgICAgcmV0dXJuIHUuaWQ7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHVuRm9sbG93OiBmdW5jdGlvbiB1bkZvbGxvdyh1c2VySWQpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgYm9keUNvbnRlbnQgPSB7CiAgICAgICAgbmFtZTogdXNlcklkCiAgICAgIH07CiAgICAgIGF4aW9zLnB1dCgiL2FwaS9mb2xsb3dzLyIsIGJvZHlDb250ZW50KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBoYW5kbGUgc3VjY2VzcwogICAgICAgIGV2ZW50QnVzLiRlbWl0KCd1bmZvbGxvdy1zdWNjZXNzJywgdXNlcklkKTsKCiAgICAgICAgdmFyIGluZGV4ID0gX3RoaXM0LmZvbGxvd2luZy5pbmRleE9mKHVzZXJJZCk7CgogICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHsKICAgICAgICAgIF90aGlzNC5mb2xsb3dpbmcuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICB9CgogICAgICAgIGV2ZW50QnVzLiRlbWl0KCdyZWxvYWRfZm9sbG93ZXJzJywgdHJ1ZSk7CiAgICAgICAgZXZlbnRCdXMuJGVtaXQoJ3JlbG9hZF9mb2xsb3dpbmcnLCB0cnVlKTsKICAgICAgfSk7CiAgICB9LAogICAgY2xlYXJNZXNzYWdlczogZnVuY3Rpb24gY2xlYXJNZXNzYWdlcygpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM1LmVycm9ycyA9IFtdOwogICAgICB9LCA1MDAwKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["OtherUserProfileHeader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,QAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,wBADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,UAAA,EAAA;AAHA,KAAA;AAKA,GARA;AAUA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AADA,GAVA;AAgBA,EAAA,OAAA,EAAA,mBAAA;AACA,SAAA,YAAA;AACA,QAAA,aAAA,GAAA,KAAA,OAAA,CAAA,GAAA,CAAA,cAAA,CAAA;;AACA,QAAA,aAAA,EAAA;AACA,WAAA,UAAA,GAAA,IAAA;AACA;AAEA,GAvBA;AAwBA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,qBACA,QADA,EACA;AAAA;;AACA,MAAA,KAAA,CAAA,GAAA,sBAAA,QAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA;AACA,OAFA;AAIA,KANA;AASA,IAAA,MATA,kBASA,MATA,EASA;AAAA;;AACA,UAAA,WAAA,GAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,MAAA,KAAA,CACA,IADA,CACA,eADA,EACA,WADA,EAEA,IAFA,CAEA,YAAA;AACA;AACA,QAAA,MAAA,CAAA,SAAA,CAAA,IAAA,CAAA,MAAA;;AACA,QAAA,QAAA,CAAA,KAAA,CAAA,gBAAA,EAAA,MAAA;AACA,QAAA,QAAA,CAAA,KAAA,CAAA,kBAAA,EAAA,IAAA;AACA,QAAA,QAAA,CAAA,KAAA,CAAA,kBAAA,EAAA,IAAA;AAEA,OATA;AAUA,KArBA;AAuBA,IAAA,WAvBA,uBAuBA,MAvBA,EAuBA;AAAA,iDAEA,KAAA,SAFA;AAAA;;AAAA;AAEA,4DAAA;AAAA,cAAA,QAAA;;AAEA,cAAA,MAAA,KAAA,QAAA,EAAA;AACA,mBAAA,IAAA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;;AASA,aAAA,KAAA;AACA,KAjCA;AAmCA,IAAA,YAnCA,0BAmCA;AAAA;;AACA,UAAA,WAAA,GAAA,EAAA;AACA,MAAA,KAAA,CACA,GADA,CACA,wBADA,EACA,WADA,EAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA,CAAA,SAAA,CAAA,GAAA,CAAA,UAAA,CAAA;AAAA,iBAAA,CAAA,CAAA,EAAA;AAAA,SAAA,CAAA;AACA,OAJA;AAMA,KA3CA;AA4CA,IAAA,QA5CA,oBA4CA,MA5CA,EA4CA;AAAA;;AACA,UAAA,WAAA,GAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,MAAA,KAAA,CACA,GADA,CACA,eADA,EACA,WADA,EAEA,IAFA,CAEA,YAAA;AACA;AACA,QAAA,QAAA,CAAA,KAAA,CAAA,kBAAA,EAAA,MAAA;;AACA,YAAA,KAAA,GAAA,MAAA,CAAA,SAAA,CAAA,OAAA,CAAA,MAAA,CAAA;;AACA,YAAA,KAAA,KAAA,CAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,SAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;AACA;;AACA,QAAA,QAAA,CAAA,KAAA,CAAA,kBAAA,EAAA,IAAA;AACA,QAAA,QAAA,CAAA,KAAA,CAAA,kBAAA,EAAA,IAAA;AAEA,OAZA;AAaA,KA3DA;AA8DA,IAAA,aAAA,EAAA,yBAAA;AAAA;;AACA,MAAA,WAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,EAAA;AACA,OAFA,EAEA,IAFA,CAAA;AAGA;AAlEA;AAxBA,CAAA","sourcesContent":["<template>\n  <div class=\"freet-container2\">\n    <div class=\"ui grid container\">\n      <div class=\"four wide column\">\n        <img class=\"ui tiny avatar image\" src=\"../../../imgs/2.png\" width=200px height=auto>\n        <div class=\"user-info\">\n          <p> <b>Username:</b> {{user.name}}</p>\n          <p> <b>User Id: </b>{{user.id}} </p>\n        </div>\n      </div>\n        <div v-if=\"isSignedIn\" class=\"ui right floated horizontal list\" >\n          <button class=\"ui tiny primary button\" v-if=\"isFollowing(user.id)\" @click=\"unFollow(user.id)\">Unfollow</button>\n          <button class=\"ui tiny primary button\" v-else @click=\"follow(user.id)\">Follow</button>\n        </div>\n</div>\n  <div v-if='errors.length' class=\"error-message\" style=\"width: 250px;\">\n      <b>Please correct the following error(s):</b>\n      <ul>\n        <li v-for='error in errors' v-bind:key='error.id'>{{ error }}</li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport { eventBus } from \"../../main\";\n\n  export default {\n    name: 'OtherUserProfileHeader',\n    data() {\n        return {\n          errors: [],\n          following : [],\n          isSignedIn : false,\n        }\n    },\n\n    props: {\n      user: {\n        type: Object,\n        required: true\n      }\n    },\n    created: function() {\n      this.getFollowing();\n      let authenticated = this.$cookie.get('fritter-auth');\n      if (authenticated) {\n        this.isSignedIn = true;\n      }\n\n    },\n    methods: {\n      getUserId (username) {\n        axios.get(`/api/users/${username}`).then(response => {\n          this.user_id = response.data.user.id;\n        })\n\n      },\n\n\n      follow (userId){\n        const bodyContent = { name: userId};\n        axios\n          .post(\"/api/follows/\", bodyContent)\n          .then(() => {\n            // handle success\n            this.following.push(userId);\n            eventBus.$emit('follow-success', userId);\n            eventBus.$emit('reload_followers', true);\n            eventBus.$emit('reload_following', true);\n\n          })\n      },\n\n      isFollowing (userId) {\n        \n        for (const followId of this.following) {\n\n          if (userId === followId) {\n            return true\n          }\n        }\n\n        return false\n      },\n\n      getFollowing () {\n        const bodyContent = {};\n        axios\n          .get(\"/api/follows/following\", bodyContent)\n          .then((res) => {\n            this.following = res.data.following.map(u => u.id);\n          });\n          \n      },\n      unFollow (userId){\n        const bodyContent = { name: userId};\n        axios\n          .put(\"/api/follows/\", bodyContent)\n          .then(() => {\n            // handle success\n            eventBus.$emit('unfollow-success', userId);\n            var index = this.following.indexOf(userId);\n            if (index !== -1) {\n              this.following.splice(index, 1);\n            }\n            eventBus.$emit('reload_followers', true);\n            eventBus.$emit('reload_following', true);\n\n          })\n      },\n\n\n    clearMessages: function() {\n      setInterval(() => {\n        this.errors = [];\n      }, 5000);\n    }\n    }\n  }\n\n</script>"],"sourceRoot":"src/components/OtherUser"}]}