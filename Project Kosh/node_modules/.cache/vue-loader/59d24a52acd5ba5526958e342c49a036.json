{"remainingRequest":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/murphyren/Desktop/170/nn/final-project-team-peach/src/components/SignUpForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/src/components/SignUpForm.vue","mtime":1607371671934},{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYnVzaW5lc3Mtc2lnbnVwLWZvcm0iLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgZmlyc3ROYW1lOiAiIiwKICAgICAgbGFzdE5hbWU6ICIiLAogICAgICBlbWFpbDogIiIsCiAgICAgIGJ1c2luZXNzTmFtZTogIiIsCiAgICAgIGVycm9yOiAiIiwKICAgICAgc3VjY2VzczogIiIsCiAgICAgIGlzQnVzaW5lc3M6IGZhbHNlLAogICAgICBidXNpbmVzc0V4aXN0czogZmFsc2UsCiAgICAgIGZpbGU6ICIiCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2lnblVwOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICgKICAgICAgICB0aGlzLnVzZXJuYW1lID09PSAiIiB8fAogICAgICAgIHRoaXMucGFzc3dvcmQgPT09ICIiIHx8CiAgICAgICAgdGhpcy5maXJzdE5hbWUgPT09ICIiIHx8CiAgICAgICAgdGhpcy5sYXN0TmFtZSA9PT0gIiIgfHwKICAgICAgICB0aGlzLmVtYWlsID09PSAiIiB8fAogICAgICAgICh0aGlzLmlzQnVzaW5lc3MgJiYgdGhpcy5idXNpbmVzc05hbWUgPT09ICIiKQogICAgICApIHsKICAgICAgICB0aGlzLmVycm9yID0gIllvdSBuZWVkIHRvIGZpbGwgdXAgYWxsIHRoZSBlbnRyaWVzIHRvIHNpZ24gdXAhIjsKICAgICAgICB0aGlzLmNsZWFyTWVzc2FnZXMoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAodGhpcy5pc0J1c2luZXNzKSB7CiAgICAgICAgICB0aGlzLnNpZ25VcEJ1c2luZXNzKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2lnblVwQ2xpZW50KCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2lnblVwQnVzaW5lc3M6IGZ1bmN0aW9uICgpIHsKICAgICAgYXhpb3MKICAgICAgICAuZ2V0KGAvYXBpL2J1c2luZXNzL2V4aXN0LyR7dGhpcy5idXNpbmVzc05hbWV9YCwge30pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy5idXNpbmVzc0V4aXN0cyA9IHJlcy5kYXRhOwogICAgICAgICAgdGhpcy5hbGVydENsYWltKCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyLnJlc3BvbnNlKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBhbGVydENsYWltOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLmJ1c2luZXNzRXhpc3RzKSB7CiAgICAgICAgYXhpb3MKICAgICAgICAgIC5nZXQoYC9hcGkvYnVzaW5lc3MvY2xhaW0vJHt0aGlzLmJ1c2luZXNzTmFtZX1gLCB7fSkKICAgICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgaWYgKHJlcy5kYXRhKSB7CiAgICAgICAgICAgICAgdGhpcy5lcnJvciA9ICJUaGlzIGJ1c2luZXNzIGhhcyBhbHJlYWR5IGJlZW4gY2xhaW1lZCI7CiAgICAgICAgICAgICAgdGhpcy5yZXNldEZvcm0oKTsKICAgICAgICAgICAgICB0aGlzLmNsZWFyTWVzc2FnZXMoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpZiAoCiAgICAgICAgICAgICAgICBjb25maXJtKAogICAgICAgICAgICAgICAgICBgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNsYWltICcke3RoaXMuYnVzaW5lc3NOYW1lfSc/YAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCdXNpbmVzcygpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gYFlvdSBoYXZlIG5vdCBjbGFpbWVkICcke3RoaXMuYnVzaW5lc3NOYW1lfSdgOwogICAgICAgICAgICAgICAgdGhpcy5jbGVhck1lc3NhZ2VzKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoCiAgICAgICAgICBjb25maXJtKAogICAgICAgICAgICBgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNyZWF0ZSBhbiBhY2NvdW50IGZvciAnJHt0aGlzLmJ1c2luZXNzTmFtZX0nP2AKICAgICAgICAgICkKICAgICAgICApIHsKICAgICAgICAgIHRoaXMudXBkYXRlQnVzaW5lc3MoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5lcnJvciA9IGBZb3UgaGF2ZSBub3QgY3JlYXRlZCBhbiBhY2NvdW50IGZvciAnJHt0aGlzLmJ1c2luZXNzTmFtZX0nYDsKICAgICAgICAgIHRoaXMuY2xlYXJNZXNzYWdlcygpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHVwZGF0ZUJ1c2luZXNzOiBmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnN0IGJvZHlDb250ZW50ID0gewogICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLAogICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgIGZpcnN0TmFtZTogdGhpcy5maXJzdE5hbWUsCiAgICAgICAgbGFzdE5hbWU6IHRoaXMubGFzdE5hbWUsCiAgICAgICAgYnVzaW5lc3NUeXBlOiAxLAogICAgICB9OwogICAgICBheGlvcwogICAgICAgIC5wb3N0KCIvYXBpL2NsaWVudHMiLCBib2R5Q29udGVudCkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAvLyBoYW5kbGUgc3VjY2VzcwogICAgICAgICAgdGhpcy5zdWNjZXNzID0gcmVzLmRhdGEubWVzc2FnZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICAvLyBoYW5kbGUgZXJyb3IKICAgICAgICAgIHRoaXMuZXJyb3IgPSBlcnIucmVzcG9uc2UuZGF0YS5lcnJvcjsKICAgICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIC8vIGFsd2F5cyBleGVjdXRlZAogICAgICAgICAgdGhpcy5yZXNldEZvcm0oKTsKICAgICAgICAgIHRoaXMuY2xlYXJNZXNzYWdlcygpOwogICAgICAgIH0pOwogICAgICBpZiAodGhpcy5idXNpbmVzc0V4aXN0cykgewogICAgICAgIGF4aW9zLnB1dCgiL2FwaS9idXNpbmVzcy9jbGFpbSIsIHsgYnVzaW5lc3NOYW1lOiB0aGlzLmJ1c2luZXNzTmFtZSB9KTsKICAgICAgICBheGlvcwogICAgICAgICAgLnB1dCgiL2FwaS9idXNpbmVzcy91cGRhdGV1c2VyIiwgewogICAgICAgICAgICBidXNpbmFtZTogdGhpcy5idXNpbmVzc05hbWUsCiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLAogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgY29uc3QgZW1wdHkgPSBKU09OLnN0cmluZ2lmeShbXSk7CgogICAgICAgICAgICBheGlvcy5wb3N0KCIvYXBpL2J1c2luZXNzUmVzL2FkZCIsIHsKICAgICAgICAgICAgICB1c2VybmFtZTogdGhpcy51c2VybmFtZSwKICAgICAgICAgICAgICBidXNpbmVzc05hbWU6IHRoaXMuYnVzaW5lc3NOYW1lLAogICAgICAgICAgICAgIGNhcGFjaXR5OiAwLAogICAgICAgICAgICAgIGxlbmd0aDogMzAsCiAgICAgICAgICAgICAgdGltZUZyb206IG5ldyBEYXRlKAogICAgICAgICAgICAgICAgYCR7bmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKX0gMTA6MDA6MDAgQU1gCiAgICAgICAgICAgICAgKS50b0xvY2FsZVN0cmluZygpLAogICAgICAgICAgICAgIHRpbWVUbzogbmV3IERhdGUoCiAgICAgICAgICAgICAgICBgJHtuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygpfSAxMDowMDowMCBBTWAKICAgICAgICAgICAgICApLnRvTG9jYWxlU3RyaW5nKCksCiAgICAgICAgICAgICAgbW9uZGF5OiBlbXB0eSwKICAgICAgICAgICAgICB0dWVzZGF5OiBlbXB0eSwKICAgICAgICAgICAgICB3ZWRuZXNkYXk6IGVtcHR5LAogICAgICAgICAgICAgIHRodXJzZGF5OiBlbXB0eSwKICAgICAgICAgICAgICBmcmlkYXk6IGVtcHR5LAogICAgICAgICAgICAgIHNhdHVyZGF5OiBlbXB0eSwKICAgICAgICAgICAgICBzdW5kYXk6IGVtcHR5LAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGF4aW9zCiAgICAgICAgICAucG9zdChgL2FwaS9idXNpbmVzcy9pbnNlcnRgLCB7CiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLAogICAgICAgICAgICBidXNpbmFtZTogdGhpcy5idXNpbmVzc05hbWUsCiAgICAgICAgICB9KQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLnN1Y2Nlc3MgPSByZXMuZGF0YS5tZXNzYWdlOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBlcnIucmVzcG9uc2UuZGF0YS5lcnJvcjsKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgIHRoaXMucmVzZXRGb3JtKCk7CiAgICAgICAgICAgIHRoaXMuY2xlYXJNZXNzYWdlcygpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgICAgdGhpcy51cGxvYWRGaWxlKCk7CiAgICB9LAogICAgdXBsb2FkRmlsZTogZnVuY3Rpb24gKCkgewogICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCB0aGlzLmZpbGUpOwogICAgICBheGlvcy5wb3N0KGAvYXBpL2J1c2luZXNzL2ZpbGUvJHt0aGlzLmJ1c2luZXNzTmFtZX1gLCBmb3JtRGF0YSkKICAgICAgLnRoZW4oZnVuY3Rpb24oKXsKICAgICAgICAgIGNvbnNvbGUubG9nKCdTVUNDRVNTISEnKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbigpewogICAgICAgICAgY29uc29sZS5sb2coJ0ZBSUxVUkUhIScpOwogICAgICAgIH0pOwogICAgfSwKICAgIG9uU2VsZWN0OiBmdW5jdGlvbigpewogICAgICBjb25zb2xlLmxvZygiaGVyZSIpCiAgICAgIGNvbnN0IHNlbGVjdGVkRmlsZSA9IHRoaXMuJHJlZnMuZmlsZS5maWxlc1swXTsKICAgICAgY29uc29sZS5sb2coc2VsZWN0ZWRGaWxlKQogICAgICB0aGlzLmZpbGUgPSBzZWxlY3RlZEZpbGU7CiAgICB9LAogICAgc2lnblVwQ2xpZW50OiBmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnN0IGJvZHlDb250ZW50ID0gewogICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkLAogICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLAogICAgICAgIGZpcnN0TmFtZTogdGhpcy5maXJzdE5hbWUsCiAgICAgICAgbGFzdE5hbWU6IHRoaXMubGFzdE5hbWUsCiAgICAgICAgYnVzaW5lc3NUeXBlOiAwLAogICAgICB9OwogICAgICBheGlvcwogICAgICAgIC5wb3N0KCIvYXBpL2NsaWVudHMiLCBib2R5Q29udGVudCkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAvLyBoYW5kbGUgc3VjY2VzcwogICAgICAgICAgdGhpcy5zdWNjZXNzID0gcmVzLmRhdGEubWVzc2FnZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgICAvLyBoYW5kbGUgZXJyb3IKICAgICAgICAgIHRoaXMuZXJyb3IgPSBlcnIucmVzcG9uc2UuZGF0YS5lcnJvcjsKICAgICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIC8vIGFsd2F5cyBleGVjdXRlZAogICAgICAgICAgdGhpcy5yZXNldEZvcm0oKTsKICAgICAgICAgIHRoaXMuY2xlYXJNZXNzYWdlcygpOwogICAgICAgIH0pOwogICAgfSwKCiAgICByZXNldEZvcm06IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy51c2VybmFtZSA9ICIiOwogICAgICAodGhpcy5wYXNzd29yZCA9ICIiKSwKICAgICAgICAodGhpcy5maXJzdE5hbWUgPSAiIiksCiAgICAgICAgKHRoaXMubGFzdE5hbWUgPSAiIiksCiAgICAgICAgKHRoaXMuZW1haWwgPSAiIiksCiAgICAgICAgKHRoaXMuYnVzaW5lc3NOYW1lID0gIiIpOwogICAgfSwKICAgIGNsZWFyTWVzc2FnZXM6IGZ1bmN0aW9uICgpIHsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5lcnJvciA9ICIiOwogICAgICAgIGlmICh0aGlzLnN1Y2Nlc3MgIT0gIiIpIHsKICAgICAgICAgIGlmICghdGhpcy5idXNpbmVzc0V4aXN0cykgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2xvZ2luIik7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnN1Y2Nlc3MgPSAiIjsKICAgICAgICAgIHRoaXMuYnVzaW5lc3NFeGlzdHMgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0sIDIwMDApOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["SignUpForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SignUpForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"signup-form\">\n    <div class=\"signup-form-top\">\n      <input\n        class=\"name\"\n        style=\"margin-right: 20px\"\n        v-model=\"firstName\"\n        placeholder=\"First Name\"\n      />\n      <input class=\"name\" v-model=\"lastName\" placeholder=\"Last Name\" />\n    </div>\n\n    <input v-model=\"username\" placeholder=\"Username\" />\n    <input v-model=\"password\" placeholder=\"Password\" />\n    <input v-model=\"email\" placeholder=\"Email\" />\n\n    <div class=\"business-input\">\n      <label for=\"checkbox\"> Signing up as a business? </label>\n      <input type=\"checkbox\" id=\"checkbox\" v-model=\"isBusiness\" />\n    </div>\n    <input\n      v-if=\"isBusiness\"\n      v-model=\"businessName\"\n      placeholder=\"Business Name\"\n    />\n    <form enctype=\"multipart/form-data\">\n      <label v-if=\"isBusiness\" for=\"files\">\n        Please upload a proof of ownership (PDF)</label\n      >\n    <input v-if=\"isBusiness\" type=\"file\" id=\"file\" ref=\"file\" @change=\"onSelect\" accept=\"image/.pdf\" />\n    </form>\n    <div class=\"signup-form-buttons\">\n      <button class=\"submit-signup\" v-on:click=\"signUp\">Submit</button>\n      <router-link to=\"/login\">\n        <button class=\"cancel\">Cancel</button>\n      </router-link>\n    </div>\n\n    <div class=\"error-message\">\n      {{ error }}\n    </div>\n    <div class=\"success-message\">\n      {{ success }}\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"business-signup-form\",\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      businessName: \"\",\n      error: \"\",\n      success: \"\",\n      isBusiness: false,\n      businessExists: false,\n      file: \"\"\n    };\n  },\n  methods: {\n    signUp: function () {\n      if (\n        this.username === \"\" ||\n        this.password === \"\" ||\n        this.firstName === \"\" ||\n        this.lastName === \"\" ||\n        this.email === \"\" ||\n        (this.isBusiness && this.businessName === \"\")\n      ) {\n        this.error = \"You need to fill up all the entries to sign up!\";\n        this.clearMessages();\n      } else {\n        if (this.isBusiness) {\n          this.signUpBusiness();\n        } else {\n          this.signUpClient();\n        }\n      }\n    },\n    signUpBusiness: function () {\n      axios\n        .get(`/api/business/exist/${this.businessName}`, {})\n        .then((res) => {\n          this.businessExists = res.data;\n          this.alertClaim();\n        })\n        .catch((err) => {\n          console.log(err.response);\n        });\n    },\n    alertClaim: function () {\n      if (this.businessExists) {\n        axios\n          .get(`/api/business/claim/${this.businessName}`, {})\n          .then((res) => {\n            if (res.data) {\n              this.error = \"This business has already been claimed\";\n              this.resetForm();\n              this.clearMessages();\n            } else {\n              if (\n                confirm(\n                  `Are you sure you want to claim '${this.businessName}'?`\n                )\n              ) {\n                this.updateBusiness();\n              } else {\n                this.error = `You have not claimed '${this.businessName}'`;\n                this.clearMessages();\n              }\n            }\n          });\n      } else {\n        if (\n          confirm(\n            `Are you sure you want to create an account for '${this.businessName}'?`\n          )\n        ) {\n          this.updateBusiness();\n        } else {\n          this.error = `You have not created an account for '${this.businessName}'`;\n          this.clearMessages();\n        }\n      }\n    },\n    updateBusiness: function () {\n      const bodyContent = {\n        username: this.username,\n        password: this.password,\n        email: this.email,\n        firstName: this.firstName,\n        lastName: this.lastName,\n        businessType: 1,\n      };\n      axios\n        .post(\"/api/clients\", bodyContent)\n        .then((res) => {\n          // handle success\n          this.success = res.data.message;\n        })\n        .catch((err) => {\n          // handle error\n          this.error = err.response.data.error;\n        })\n        .then(() => {\n          // always executed\n          this.resetForm();\n          this.clearMessages();\n        });\n      if (this.businessExists) {\n        axios.put(\"/api/business/claim\", { businessName: this.businessName });\n        axios\n          .put(\"/api/business/updateuser\", {\n            businame: this.businessName,\n            username: this.username,\n          })\n          .then(() => {\n            const empty = JSON.stringify([]);\n\n            axios.post(\"/api/businessRes/add\", {\n              username: this.username,\n              businessName: this.businessName,\n              capacity: 0,\n              length: 30,\n              timeFrom: new Date(\n                `${new Date().toLocaleDateString()} 10:00:00 AM`\n              ).toLocaleString(),\n              timeTo: new Date(\n                `${new Date().toLocaleDateString()} 10:00:00 AM`\n              ).toLocaleString(),\n              monday: empty,\n              tuesday: empty,\n              wednesday: empty,\n              thursday: empty,\n              friday: empty,\n              saturday: empty,\n              sunday: empty,\n            });\n          });\n      } else {\n        axios\n          .post(`/api/business/insert`, {\n            username: this.username,\n            businame: this.businessName,\n          })\n          .then((res) => {\n            this.success = res.data.message;\n          })\n          .catch((err) => {\n            this.error = err.response.data.error;\n          })\n          .then(() => {\n            this.resetForm();\n            this.clearMessages();\n          });\n      }\n      this.uploadFile();\n    },\n    uploadFile: function () {\n      const formData = new FormData();\n      formData.append('file', this.file);\n      axios.post(`/api/business/file/${this.businessName}`, formData)\n      .then(function(){\n          console.log('SUCCESS!!');\n        })\n        .catch(function(){\n          console.log('FAILURE!!');\n        });\n    },\n    onSelect: function(){\n      console.log(\"here\")\n      const selectedFile = this.$refs.file.files[0];\n      console.log(selectedFile)\n      this.file = selectedFile;\n    },\n    signUpClient: function () {\n      const bodyContent = {\n        username: this.username,\n        password: this.password,\n        email: this.email,\n        firstName: this.firstName,\n        lastName: this.lastName,\n        businessType: 0,\n      };\n      axios\n        .post(\"/api/clients\", bodyContent)\n        .then((res) => {\n          // handle success\n          this.success = res.data.message;\n        })\n        .catch((err) => {\n          // handle error\n          this.error = err.response.data.error;\n        })\n        .then(() => {\n          // always executed\n          this.resetForm();\n          this.clearMessages();\n        });\n    },\n\n    resetForm: function () {\n      this.username = \"\";\n      (this.password = \"\"),\n        (this.firstName = \"\"),\n        (this.lastName = \"\"),\n        (this.email = \"\"),\n        (this.businessName = \"\");\n    },\n    clearMessages: function () {\n      setTimeout(() => {\n        this.error = \"\";\n        if (this.success != \"\") {\n          if (!this.businessExists) {\n            this.$router.push(\"/login\");\n          } else {\n            this.$router.push(\"/login\");\n          }\n          this.success = \"\";\n          this.businessExists = false;\n        }\n      }, 2000);\n    },\n  },\n};\n</script>\n\n<style scoped>\n\nbutton {\n  margin: 0;\n}\n\n\ninput {\n  border: 1px solid black;\n  width: 200px;\n  height: 30px;\n  border-radius: 4px;\n  margin-bottom: 20px;\n}\n\nlabel {\n  font-weight: 100;\n  margin-top: 5px;\n  margin-right: 10px;\n}\ninput[type=\"checkbox\"] {\n  width: 20px;\n  height: 20px;\n}\ninput[type=\"file\"] {\n  border: none;\n  margin-top: 20px;\n}\n</style>"]}]}