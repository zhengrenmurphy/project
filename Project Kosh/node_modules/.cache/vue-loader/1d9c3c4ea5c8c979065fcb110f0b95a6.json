{"remainingRequest":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/murphyren/Desktop/170/nn/final-project-team-peach/src/views/EditResTableView.vue?vue&type=style&index=0&id=080afbb7&scoped=true&lang=css&","dependencies":[{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/src/views/EditResTableView.vue","mtime":1606879468203},{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLm1haW57CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKfQouc2VsZWN0ewogICAgYm9yZGVyOiAzcHggc29saWQgIzkzYjFmZjsKICAgIGJhY2tncm91bmQtY29sb3I6ICM5M2IxZmY7CiAgICBjb2xvcjogYmxhY2s7CiAgICBib3JkZXItcmFkaXVzOiA2cHg7CiAgICBoZWlnaHQ6IDQwcHg7CiAgICB3aWR0aDogMTIwcHg7CiAgICBtYXJnaW4tdG9wOiAyMHB4OwogICAgbWFyZ2luLWxlZnQ6IDU1JTsKfQoKLnN1Ym1pdHsKICAgIGJvcmRlcjogM3B4IHNvbGlkICM5M2IxZmY7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTNiMWZmOwogICAgY29sb3I6IGJsYWNrOwogICAgYm9yZGVyLXJhZGl1czogNnB4OwogICAgaGVpZ2h0OiA0MHB4OwogICAgd2lkdGg6IDEyMHB4OwogICAgbWFyZ2luLXRvcDogMjBweDsKICAgIG1hcmdpbi1sZWZ0OiA1NSU7Cn0KCmxhYmVsewogICAgZGlzcGxheTogZmxleDsgCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGxlZnQ7CiAgICBtYXJnaW4tYm90dG9tOiAzMHB4Owp9CgppbnB1dHsKICAgIGJvcmRlci1yYWRpdXM6IDBweDsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNmNWMxOWU7CiAgICB3aWR0aDogNTBweDsKICAgIGhlaWdodDogMjBweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIG1hcmdpbi1ib3R0b206IDI3cHg7Cn0KCnNlbGVjdHsKICAgIGJvcmRlci1yYWRpdXM6IDBweDsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNmNWMxOWU7CiAgICB3aWR0aDogNTBweDsKICAgIGhlaWdodDogMjVweDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIG1hcmdpbi1ib3R0b206IDI0cHg7Cn0KLmNhbmNlbHsKICAgIG1hcmdpbi1sZWZ0OiAxMjBweDsKfQo="},{"version":3,"sources":["EditResTableView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditResTableView.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <NavBar />\n    <div class='main'> \n        <div class=\"table_selections\" style=\"display: flex; flex-direction: row\">\n            <div class = 'labels' style=\"margin-right: 40px;\">\n                <label>Capacity</label>\n                <label>Timeslot Length (min)</label>\n                <label>Time</label>\n            </div>\n            <div class = 'selections' style=\"display: flex; flex-direction: column\">\n                <input v-model.trim='capacity' type='text'>\n                <select  v-model=\"timeslot_length\" @change=\"newPick\" style=\"margin-right: 10px; width: 50px\">\n                    <option value=\"15\">15</option>\n                    <option value=\"30\">30</option>\n                    <option value=\"45\">45</option>\n                    <option value=\"60\">60</option>\n                </select>\n                <div class=\"time\" style=\"display: flex; flex-direction: row\">\n                    <label style=\"margin-right: 10px\">From: </label>\n                    <TimeDropDown :initial_time=\"time_from_string\" :time_type=\"'time_from'\"/>\n                    <label style=\"margin-right: 10px\">To: </label>\n                    <TimeDropDown :initial_time=\"time_to_string\" :time_type=\"'time_to'\"/>\n                </div>\n            </div>\n        </div>\n        <ReservationTable :time_from=\"time_from\" :timeslot_length=\"timeslot_length\" :time_to=\"time_to\" :monday=\"monday\" :tuesday=\"tuesday\" :wednesday=\"wednesday\" :thursday=\"thursday\" :friday=\"friday\" :saturday=\"saturday\" :sunday=\"sunday\" @update-checked=\"updateChecked\"/>\n    </div>\n    <div class='buttons' style='display: flex; justify-content: align'>\n        <button class=\"select\" :key=\"selectText\" v-on:click=\"selectAll\">{{ selectText }}</button>\n        <div>\n            <button class=\"submit\" v-on:click=\"submit\">Submit</button>\n        </div>\n        <router-link to=\"/business/reservations\">\n            <button class=\"cancel\">Cancel</button>\n        </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ReservationTable from '../components/ReservationTable.vue';\nimport NavBar from \"../components/Navbar.vue\";\nimport TimeDropDown from \"../components/TimeDropDown.vue\";\nimport { eventBus } from \"../main\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"MakeResTableView\",\n  components: {\n    ReservationTable,\n    NavBar,\n    TimeDropDown\n  },\n  data(){\n      return {\n        time_from: new Date(),\n        time_from_string: '',\n        time_to: new Date(),\n        time_to_string: '',\n        timeslot_length: 30,\n        monday: [],\n        tuesday: [],\n        wednesday: [],\n        thursday: [],\n        friday: [],\n        saturday: [],\n        sunday: [],\n        capacity: 0,\n        business_name: 'Cambridge Bicycles',\n        allSelected: false,\n        selectText: 'Select All',\n        error: \"\"\n      }\n\n  },\n  watch: {\n      selectText: function(val){\n          this.selectText = val\n      },\n      monday: function(val){\n          this.monday = val\n      }\n  },\n  created(){\n      eventBus.$on(\"time-selected\", newTime => {\n          if(newTime.type === 'time_from'){\n              let date = new Date(`11/18/2020 ${newTime.selected}`)\n              this.time_from = date\n              this.time_from_string = date.toLocaleTimeString()\n          } else if(newTime.type === 'time_to'){\n              let date = new Date(`11/18/2020 ${newTime.selected}`)\n              this.time_to = date\n              this.time_to_string = date.toLocaleTimeString()\n          }\n    });\n  },\n\n  mounted: async function(){\n      const reservationTableInfo = await this.getReservationTable();\n      this.capacity = reservationTableInfo.capacity;\n      this.timeslot_length = reservationTableInfo.length;\n      this.time_from = new Date(reservationTableInfo.timeFrom);\n      this.time_from_string = new Date(reservationTableInfo.timeFrom).toLocaleTimeString();\n      this.$cookie.set(\"time-from-string\", this.time_from_string);\n      this.time_to = new Date(reservationTableInfo.timeTo);\n      this.time_to_string = new Date(reservationTableInfo.timeTo).toLocaleTimeString();\n      this.$cookie.set(\"time-to-string\", this.time_to_string);\n      this.monday = JSON.parse(reservationTableInfo.monday);\n      this.$cookie.set(\"monday-checked\", reservationTableInfo.monday)\n      this.tuesday = JSON.parse(reservationTableInfo.tuesday);\n      this.$cookie.set(\"tuesday-checked\", reservationTableInfo.tuesday)\n      this.wednesday = JSON.parse(reservationTableInfo.wednesday);\n      this.$cookie.set(\"wednesday-checked\", reservationTableInfo.wednesday)\n      this.thursday = JSON.parse(reservationTableInfo.thursday);\n      this.$cookie.set(\"thursday-checked\", reservationTableInfo.thursday)\n      this.friday = JSON.parse(reservationTableInfo.friday);\n      this.$cookie.set(\"friday-checked\", reservationTableInfo.friday)\n      this.saturday = JSON.parse(reservationTableInfo.saturday);\n      this.$cookie.set(\"saturday-checked\", reservationTableInfo.saturday)\n      this.sunday = JSON.parse(reservationTableInfo.sunday);\n      this.$cookie.set(\"sunday-checked\", reservationTableInfo.sunday)\n  },\n\n  methods: {\n      selectAll(){\n        this.allSelected = !this.allSelected\n        this.selectText = this.allSelected? 'Deselect All': 'Select All';\n        const value = this.allSelected? 1: 0;\n        const checkboxes = []\n        for(let i = 0; i<this.monday.length; i++){\n            checkboxes.push(value)\n        }\n        this.monday = checkboxes\n        this.tuesday = checkboxes\n        this.wednesday = checkboxes\n        this.thursday = checkboxes\n        this.friday = checkboxes\n        this.saturday = checkboxes\n        this.sunday = checkboxes\n        return\n      },\n      getReservationTable: function(){\n        return axios.get(`/api/businessRes`)\n        .then((res) => {\n            return res.data\n        })\n      },\n      newPick: function(){\n          this.timeslot_length = parseInt(this.timeslot_length)\n\n      },\n      updateChecked: function(days){\n        this.monday = days.m\n        this.tuesday = days.t\n        this.wednesday = days.w\n        this.thursday = days.r\n        this.friday = days.f\n        this.saturday = days.sa\n        this.sunday = days.su\n\n        this.$cookie.set(\"monday-checked\", JSON.stringify(days.m))\n        this.$cookie.set(\"tuesday-checked\", JSON.stringify(days.t))\n        this.$cookie.set(\"wednesday-checked\", JSON.stringify(days.w))\n        this.$cookie.set(\"thursday-checked\", JSON.stringify(days.r))\n        this.$cookie.set(\"friday-checked\", JSON.stringify(days.f))\n        this.$cookie.set(\"saturday-checked\", JSON.stringify(days.sa))\n        this.$cookie.set(\"sunday-checked\", JSON.stringify(days.su))\n      },\n      submit(){\n          const bodyContent = {capacity: this.capacity, length: this.timeslot_length, timeFrom: this.time_from.toLocaleString(), timeTo: this.time_to.toLocaleString(), monday: JSON.stringify(this.monday), tuesday: JSON.stringify(this.tuesday), wednesday: JSON.stringify(this.wednesday), thursday: JSON.stringify(this.thursday), friday: JSON.stringify(this.friday), saturday: JSON.stringify(this.saturday), sunday: JSON.stringify(this.sunday)}\n          axios.put(`/api/businessRes/edit`, bodyContent).then(() => {\n              this.$router.push(\"/business/reservations\")\n          })\n      }\n  }\n};\n</script>\n\n<style scoped>\n    .main{\n      flex-direction: column;\n    }\n    .select{\n        border: 3px solid #93b1ff;\n        background-color: #93b1ff;\n        color: black;\n        border-radius: 6px;\n        height: 40px;\n        width: 120px;\n        margin-top: 20px;\n        margin-left: 55%;\n    }\n\n    .submit{\n        border: 3px solid #93b1ff;\n        background-color: #93b1ff;\n        color: black;\n        border-radius: 6px;\n        height: 40px;\n        width: 120px;\n        margin-top: 20px;\n        margin-left: 55%;\n    }\n\n    label{\n        display: flex; \n        justify-content: left;\n        margin-bottom: 30px;\n    }\n\n    input{\n        border-radius: 0px;\n        border: 1px solid #f5c19e;\n        width: 50px;\n        height: 20px;\n        text-align: center;\n        margin-bottom: 27px;\n    }\n\n    select{\n        border-radius: 0px;\n        border: 1px solid #f5c19e;\n        width: 50px;\n        height: 25px;\n        text-align: center;\n        margin-bottom: 24px;\n    }\n    .cancel{\n        margin-left: 120px;\n    }\n</style>\n"]}]}