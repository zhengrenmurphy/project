{"remainingRequest":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/murphyren/Desktop/170/nn/final-project-team-peach/src/components/UpdateBusiInfo.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/src/components/UpdateBusiInfo.vue","mtime":1607462287632},{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBCdXNpSW5mb1RpbWVEcm9wIGZyb20gIi4vQnVzaUluZm9UaW1lRHJvcC52dWUiOwppbXBvcnQgQnVzaUluZm9UaW1lRHJvcFRvIGZyb20gIi4vQnVzaUluZm9UaW1lRHJvcFRvLnZ1ZSI7CmltcG9ydCBCdXNpSW5mb0RheURyb3AgZnJvbSAiLi9CdXNpSW5mb0RheURyb3AudnVlIjsKaW1wb3J0IEJ1c2lJbmZvRGF5RHJvcFRvIGZyb20gIi4vQnVzaUluZm9EYXlEcm9wVG8udnVlIjsKaW1wb3J0IHsgZXZlbnRCdXMgfSBmcm9tICIuLi9tYWluIjsKCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkJ1c2lJbmZvTGlzdCIsCgogICAgY29tcG9uZW50czogeyAgQnVzaUluZm9UaW1lRHJvcCxCdXNpSW5mb1RpbWVEcm9wVG8sICBCdXNpSW5mb0RheURyb3AsQnVzaUluZm9EYXlEcm9wVG8gfSwKCiAgcHJvcHM6IHsKCiAgfSwKICBkYXRhKCkgewogICAgICAKICAgICAgcmV0dXJuIHsKICAgICAgICAgIGJ1c2luZXNzSW5mbzogIiIsCiAgICAgICAgICBlcnJvcjogIiIsCiAgICAgICAgICBzdWNjZXNzOiAiIiwKICAgICAgICAgIG9sZFVzZXJuYW1lOiAiIiwKICAgICAgICAgIG9sZFBhc3N3b3JkOiAiIiwKICAgICAgICAgIG9sZEVtYWlsOiAiIiwKICAgICAgICAgIG9sZEZpcnN0TmFtZTogIiIsCiAgICAgICAgICBvbGRMYXN0TmFtZTogIiIsCiAgICAgICAgICB1c2VybmFtZTogIiIsCiAgICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgICBmaXJzdE5hbWU6ICIiLAogICAgICAgICAgbGFzdE5hbWU6ICIiLAogICAgICAgICAgYnVzaW5lc3NOYW1lOiAiIiwKICAgICAgICAgIHN0cmVldEluZm86ICIiLAogICAgICAgICAgY2l0eUluZm86ICIiLAogICAgICAgICAgc3RhdGVJbmZvOiAiIiwKICAgICAgICAgIHppcEluZm86ICIiLAogICAgICAgICAgb3BlblN0YXR1czogMCwKICAgICAgICAgIHRha2VvdXQ6IDAsCiAgICAgICAgICBkZWxpdmVyeTogMCwKICAgICAgICAgIG91dGRvb3I6IDAsCiAgICAgICAgICBpbmRvb3I6IDAsCiAgICAgICAgICBpbmRvb3JTaG9wcGluZzogMCwKICAgICAgICAgIGN1cmJzaWRlOiAwLAogICAgICAgICAgc2FmZXR5OiAwLAogICAgICAgICAgcGFya2luZzogMCwKICAgICAgICAgIG1hc2s6IDAsCiAgICAgICAgICBjYXBhY2l0eUluZm86IDAsCiAgICAgICAgICBob3VyRnJvbToiMTA6MDA6MDAgQU0iLAogICAgICAgICAgaG91clRvOiIxMjozMDowMCBQTSIsCiAgICAgICAgICBkYXlGcm9tOiJTdW5kYXkiLAogICAgICAgICAgZGF5VG86IlNhdHVyZGF5IiwKICAgICAgICAgIGFubm91bmNlSW5mbzoiIiwKICAgICAgICAgIGRhdGU6ICIxMS8wOS8yMDIwIiwKICAgICAgICAgIHJvdXRlOiBmYWxzZSwKICAgICAgICAgIGxhdDo0Mi4zNzM3MjEzLCAvLyBkZWZ1bHQgY29vcmRpbmF0ZSwgbmVlZCBtYW51YWwgbW9kaWZ5IGFmdGVyIHRoZSBuZXcgYnVzaW5lc3MgZW50ZXIgaW4KICAgICAgICAgIGxuZzotNzEuMDk5MzYxOTEsIC8vIGRlZnVsdCBjb29yZGluYXRlLCBuZWVkIG1hbnVhbCBtb2RpZnkgYWZ0ZXIgdGhlIG5ldyBidXNpbmVzcyBlbnRlciBpbgogICAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbigpIHsKICAgICAgZXZlbnRCdXMuJG9uKCJidXNpbmVzcy10aW1lLXNlbGVjdGVkIiwgKHJlcykgPT4gewogICAgCiAgICAgICAgdGhpcy5ob3VyRnJvbSA9IHJlcy5zZWxlY3RlZDsKICAgICAgICAKCiAgICAgIH0pOwogICAgICBldmVudEJ1cy4kb24oImJ1c2luZXNzLXRpbWUtc2VsZWN0ZWQtdG8iLCAocmVzKSA9PiB7CiAgICAKICAgICAgICB0aGlzLmhvdXJUbyA9IHJlcy5zZWxlY3RlZDsKICAgICAgIAoKICAgICAgfSk7CiAgICAgIGV2ZW50QnVzLiRvbigiYnVzaS1kYXktc2VsZWN0ZWQiLCAocmVzKSA9PiB7CiAgICAKICAgICAgICB0aGlzLmRheUZyb20gPSByZXMuc2VsZWN0ZWQ7CiAgICAgICAKCiAgICAgIH0pOwogICAgICBldmVudEJ1cy4kb24oImJ1c2ktZGF5LXNlbGVjdGVkLXRvIiwgKHJlcykgPT4gewogICAgCiAgICAgICAgdGhpcy5kYXlUbz0gcmVzLnNlbGVjdGVkOwogICAgICAgCgogICAgICB9KTsKICAgICAgZXZlbnRCdXMuJG9uKCJ1cGRhdGUtc3VjY2VzcyIsICgpID0+IHsKICAgICAgdGhpcy5zdWNjZXNzID0gYFN1Y2Nlc3NmdWxseSB1cGRhdGUgdGhlIGluZm9ybWF0aW9uIWA7CiAgICAgIHRoaXMuY2xlYXJNZXNzYWdlcygpOwogICAgfSk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5sb2FkQnVzaUluZm8oKTsKICAgICAgdGhpcy5sb2FkQnVzQWNjb3VudEluZm8oKTsKICB9LAogIG1ldGhvZHM6IHsKICAgICAgbG9hZEJ1c2lJbmZvOiBmdW5jdGlvbigpIHsKICAgICAgICAgIGF4aW9zLmdldChgL2FwaS9idXNpbmVzcy9zaW5nbGVgKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqLwogICAgICAgICAgICAgIHZhciBzaW5nbGVCdXNpbmVzc0luZm8gPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIHZhciBhdXRoZW50aWNhdGVkID0gdHJ1ZTsgLy8gbmVlZCB1cGRhdGUKICAgICAgICAgICAgICAKICAgICAgICAgICAgICBpZiAoYXV0aGVudGljYXRlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICB0aGlzLnVzZXJuYW1lPSBzaW5nbGVCdXNpbmVzc0luZm9bMF0udXNlcm5hbWU7CiAgICAgICAgICAgICAgICAgIHRoaXMuYnVzaW5lc3NOYW1lPSBzaW5nbGVCdXNpbmVzc0luZm9bMF0uYnVzaW5lc3NOYW1lOwogICAgICAgICAgICAgICAgICB0aGlzLnN0cmVldEluZm89IHNpbmdsZUJ1c2luZXNzSW5mb1swXS5zdHJlZXQ7CiAgICAgICAgICAgICAgICAgIHRoaXMuY2l0eUluZm89IHNpbmdsZUJ1c2luZXNzSW5mb1swXS5jaXR5OwogICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlSW5mbz0gc2luZ2xlQnVzaW5lc3NJbmZvWzBdLnN0YXRlOwogICAgICAgICAgICAgICAgICB0aGlzLnppcEluZm89IHNpbmdsZUJ1c2luZXNzSW5mb1swXS56aXA7CiAgICAgICAgICAgICAgICAgIHRoaXMub3BlblN0YXR1cz0gc2luZ2xlQnVzaW5lc3NJbmZvWzBdLm9wZW5TdGF0dXM7CiAgICAgICAgICAgICAgICAgIHRoaXMudGFrZW91dD0gc2luZ2xlQnVzaW5lc3NJbmZvWzBdLnRha2VvdXQ7CiAgICAgICAgICAgICAgICAgIHRoaXMuZGVsaXZlcnk9IHNpbmdsZUJ1c2luZXNzSW5mb1swXS5kZWxpdmVyeTsKICAgICAgICAgICAgICAgICAgdGhpcy5vdXRkb29yPSBzaW5nbGVCdXNpbmVzc0luZm9bMF0ub3V0ZG9vcjsKICAgICAgICAgICAgICAgICAgdGhpcy5pbmRvb3I9IHNpbmdsZUJ1c2luZXNzSW5mb1swXS5pbmRvb3I7CiAgICAgICAgICAgICAgICAgIHRoaXMuaW5kb29yU2hvcHBpbmc9IHNpbmdsZUJ1c2luZXNzSW5mb1swXS5pbmRvb3JTaG9wcGluZzsKICAgICAgICAgICAgICAgICAgdGhpcy5jdXJic2lkZT0gc2luZ2xlQnVzaW5lc3NJbmZvWzBdLmN1cmJzaWRlOwogICAgICAgICAgICAgICAgICB0aGlzLnNhZmV0eT0gc2luZ2xlQnVzaW5lc3NJbmZvWzBdLnNhZmV0eTsKICAgICAgICAgICAgICAgICAgdGhpcy5wYXJraW5nPSBzaW5nbGVCdXNpbmVzc0luZm9bMF0ucGFya2luZzsKICAgICAgICAgICAgICAgICAgdGhpcy5tYXNrPSBzaW5nbGVCdXNpbmVzc0luZm9bMF0ubWFzazsKICAgICAgICAgICAgICAgICAgdGhpcy5jYXBhY2l0eUluZm89IHNpbmdsZUJ1c2luZXNzSW5mb1swXS5jYXBhY2l0eTsKICAgICAgICAgICAgICAgICAgdGhpcy5ob3VyRnJvbT0gc2luZ2xlQnVzaW5lc3NJbmZvWzBdLmhvdXJGcm9tOwogICAgICAgICAgICAgICAgICB0aGlzLmhvdXJUbz0gc2luZ2xlQnVzaW5lc3NJbmZvWzBdLmhvdXJUbzsKICAgICAgICAgICAgICAgICAgdGhpcy5kYXlGcm9tPSBzaW5nbGVCdXNpbmVzc0luZm9bMF0uZGF5RnJvbTsKICAgICAgICAgICAgICAgICAgdGhpcy5kYXlUbz0gc2luZ2xlQnVzaW5lc3NJbmZvWzBdLmRheVRvOwogICAgICAgICAgICAgICAgICB0aGlzLmFubm91bmNlSW5mbz0gc2luZ2xlQnVzaW5lc3NJbmZvWzBdLmRlc2NyaXB0aW9uOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICB9KQogICAgICB9LAogICAgICBsb2FkQnVzQWNjb3VudEluZm86IGZ1bmN0aW9uKCkgewogICAgICAgICAgYXhpb3MuZ2V0KGAvYXBpL2NsaWVudHMvJHt0aGlzLiRjb29raWUuZ2V0KCJrb3NoLWF1dGgiKX1gKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgIHZhciBhY2NvdW50SW5mbyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgdGhpcy51c2VybmFtZSA9IGFjY291bnRJbmZvLnVzZXJuYW1lOwogICAgICAgICAgICAgIHRoaXMub2xkVXNlcm5hbWUgPSBhY2NvdW50SW5mby51c2VybmFtZTsKICAgICAgICAgICAgICB0aGlzLnBhc3N3b3JkID0gYWNjb3VudEluZm8ucGFzc3dvcmQ7CiAgICAgICAgICAgICAgdGhpcy5vbGRQYXNzd29yZCA9IGFjY291bnRJbmZvLnBhc3N3b3JkOwogICAgICAgICAgICAgIHRoaXMuZW1haWwgPSBhY2NvdW50SW5mby5lbWFpbDsKICAgICAgICAgICAgICB0aGlzLm9sZEVtYWlsID0gYWNjb3VudEluZm8uZW1haWw7CiAgICAgICAgICAgICAgdGhpcy5maXJzdE5hbWUgPSBhY2NvdW50SW5mby5maXJzdE5hbWU7CiAgICAgICAgICAgICAgdGhpcy5vbGRGaXJzdE5hbWUgPSBhY2NvdW50SW5mby5maXJzdE5hbWU7CiAgICAgICAgICAgICAgdGhpcy5sYXN0TmFtZSA9IGFjY291bnRJbmZvLmxhc3ROYW1lOwogICAgICAgICAgICAgIHRoaXMub2xkTGFzdE5hbWUgPSBhY2NvdW50SW5mby5sYXN0TmFtZTsKICAgICAgICAgIH0pCiAgICAgIH0sCiAgICAgIHN1Ym1pdDogZnVuY3Rpb24oKSB7CiAgICAgICAgaWYodGhpcy51c2VybmFtZSA9PT0gIiIpIHsKICAgICAgICAgIHRoaXMuZXJyb3IgPSAiVXNlcm5hbWUgY291bGQgbm90IGJlIGVtcHR5IjsKICAgICAgICAgIHRoaXMuY2xlYXJNZXNzYWdlcygpOwogICAgICAgIH1lbHNlIGlmICh0aGlzLnBhc3N3b3JkID09PSAiIil7CiAgICAgICAgICB0aGlzLmVycm9yID0gIlBhc3N3b3JkIGNvdWxkIG5vdCBiZSBlbXB0eSI7CiAgICAgICAgICB0aGlzLmNsZWFyTWVzc2FnZXMoKTsKICAgICAgICB9ZWxzZSBpZiAodGhpcy5maXJzdE5hbWUgPT09ICIiKXsKICAgICAgICAgIHRoaXMuZXJyb3IgPSAiRmlyc3QgbmFtZSBjb3VsZCBub3QgYmUgZW1wdHkiOwogICAgICAgICAgdGhpcy5jbGVhck1lc3NhZ2VzKCk7CiAgICAgICAgfWVsc2UgaWYgKHRoaXMubGFzdE5hbWUgPT09ICIiKXsKICAgICAgICAgIHRoaXMuZXJyb3IgPSAiTGFzdCBuYW1lIGNvdWxkIG5vdCBiZSBlbXB0eSI7CiAgICAgICAgICB0aGlzLmNsZWFyTWVzc2FnZXMoKTsKICAgICAgICB9ZWxzZSBpZiAodGhpcy5lbWFpbCA9PT0gIiIpewogICAgICAgICAgdGhpcy5lcnJvciA9ICJFbWFpbCBjb3VsZCBub3QgYmUgZW1wdHkiOwogICAgICAgICAgdGhpcy5jbGVhck1lc3NhZ2VzKCk7CiAgICAgICAgfQogICAgICAgICAgZWxzZXsKICAgICAgICAgIGNvbnN0IGJ1c2luZXNzQm9keUNvbnRlbnQgPSB7IG9zOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib3BlbiIpLmNoZWNrZWQsIHRvOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGFrZW91dCIpLmNoZWNrZWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Q6ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm91dGRvb3IiKS5jaGVja2VkLGluZDpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5kb29yIikuY2hlY2tlZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNob3A6ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm91dGRvb3JTaG9wcGluZyIpLmNoZWNrZWQsZGw6ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRlbGl2ZXJ5IikuY2hlY2tlZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjczpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY3VyYnNpZGUiKS5jaGVja2VkLHN0OmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzYWZldHkiKS5jaGVja2VkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBrOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwYXJraW5nIikuY2hlY2tlZCxtYXNrOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJtYXNrIikuY2hlY2tlZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6dGhpcy5sYXQsIGxuZzp0aGlzLmxuZywgZmI6bnVsbCwgaW5zOm51bGwsIHR3aXR0ZXI6bnVsbCwgY2FwYWNpdHk6dGhpcy5jYXBhY2l0eUluZm8sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG91ckZyb206dGhpcy5ob3VyRnJvbSwgaG91clRvOnRoaXMuaG91clRvLCBkYXlGcm9tOnRoaXMuZGF5RnJvbSwgZGF5VG86dGhpcy5kYXlUbywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXM6dGhpcy5hbm5vdW5jZUluZm8sIGNpdHk6dGhpcy5jaXR5SW5mbywgc3RhdGU6dGhpcy5zdGF0ZUluZm8sIHppcDp0aGlzLnppcEluZm8sIHN0cmVldDp0aGlzLnN0cmVldEluZm99OwoKCiAgICAgICAgICBheGlvcy5wdXQoYC9hcGkvY2xpZW50cy9maXJzdG5hbWUvJHt0aGlzLmZpcnN0TmFtZX1gKQogICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wdXQoYC9hcGkvY2xpZW50cy9sYXN0bmFtZS8ke3RoaXMubGFzdE5hbWV9YCkKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wdXQoYC9hcGkvY2xpZW50cy9wYXNzd29yZC9gLCB7IHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkIH0pOwogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgLy8gV2hlbiB1cGRhdGluZyB1c2VybmFtZSwgbmVlZCB0byB1cGRhdGUgYm90aCBVc2VyIGFuZCBCdXNpbmVzcyB0YWJsZXMsCiAgICAgICAgICAgICAgICAvLyBhbmQgdXBkYXRlIHRoZSAia29zaC1idXNpbmVzcyIgY29va2llCiAgICAgICAgICAgICAgICBpZiAodGhpcy5vbGRVc2VybmFtZSAhPT0gdGhpcy51c2VybmFtZSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucHV0KGAvYXBpL2NsaWVudHMvdXNlcm5hbWUvJHt0aGlzLnVzZXJuYW1lfWApCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5vbGRVc2VybmFtZSAhPT0gdGhpcy51c2VybmFtZSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucHV0KGAvYXBpL2J1c2luZXNzL3VzZXJgLCB7IHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLCBidXNpbmFtZTogdGhpcy5idXNpbmVzc05hbWUgfSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJGNvb2tpZS5zZXQoImtvc2gtYnVzaW5lc3MiLCB0aGlzLnVzZXJuYW1lKTsKICAgICAgICAgICAgICAgIGlmICh0aGlzLm9sZEVtYWlsICE9PSB0aGlzLmVtYWlsKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wdXQoYC9hcGkvY2xpZW50cy9lbWFpbC9gLCB7IGVtYWlsOiB0aGlzLmVtYWlsIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmJ1c2luZXNzSW5mbyA9ICJHb3QgaGVyZSI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucHV0KGAvYXBpL2J1c2luZXNzL2AsIGJ1c2luZXNzQm9keUNvbnRlbnQpIAogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgZXZlbnRCdXMuJGVtaXQoInVwZGF0ZS1zdWNjZXNzIiwgdHJ1ZSk7IAogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSBlcnIucmVzcG9uc2UuZGF0YS5lcnJvcjsKICAgICAgICAgICAgICB9KTsgCiAgICAgICAgICAKICAgICAgICAgIHRoaXMuY2xlYXJNZXNzYWdlcygpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVsOiBmdW5jdGlvbigpIHsKICAgICAgYXhpb3MuZGVsZXRlKGAvYXBpL2NsaWVudHMvYCwge30pCiAgICAgICAgLnRoZW4oKHJlcyk9PnsKICAgICAgICAgIHRoaXMuc3VjY2VzcyA9IHJlcy5kYXRhLm1lc3NhZ2U7CiAgICAgICAgICB0aGlzLnJvdXRlID0gdHJ1ZTsKICAgICAgICAgIHJldHVybiBheGlvcy5wdXQoYC9hcGkvYnVzaW5lc3MvY2xhaW1gLCB7dXNlcm5hbWU6IHRoaXMuJGNvb2tpZS5nZXQoImtvc2gtYXV0aCIpfSk7CiAgICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7fSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgdGhpcy5lcnJvciA9IGVycjsKICAgICAgICB9KQogICAgICAgIC50aGVuKCgpPT57CiAgICAgICAgICB0aGlzLmNsZWFyTWVzc2FnZXMoKTsKICAgICAgICB9KQogICAgICB9LAogICAgICBjbGVhck1lc3NhZ2VzOiBmdW5jdGlvbigpIHsKICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIHRoaXMuc3VjY2VzcyA9ICIiOwogICAgICAgIHRoaXMuZXJyb3IgPSAiIjsKICAgICAgICBpZiAodGhpcy5yb3V0ZSkgewogICAgICAgICAgdGhpcy4kY29va2llLnNldCgia29zaC1hdXRoIiwgIiIpOwogICAgICAgICAgdGhpcy4kY29va2llLnNldCgia29zaC1jbGllbnQiLCAiIik7CiAgICAgICAgICB0aGlzLiRjb29raWUuc2V0KCJrb3NoLWJ1c2luZXNzIiwgIiIpOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9sb2dpbiIpOwogICAgICAgIH0KICAgICAgICB0aGlzLnJvdXRlID0gZmFsc2U7CiAgICAgIH0sIDUwMDApOwogICAgfQogICAgICAKICB9LAogIGNvbXB1dGVkOnsKICB9CgoKfTsK"},{"version":3,"sources":["UpdateBusiInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;;AAEA;;;AAGA;AACA;;AAEA;;;AAGA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA","file":"UpdateBusiInfo.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div>\n    <div style=\"text-align:center; color:#93b1ff; font-size:22px\">\n\n    Update the business information\n    </div>\n    \n\n    <div class=\"big-box\" >\n        \n        <div class=\"left\">\n        \n        <div class=\"left-inside\">\n            <div style=\"color: #F5C19E; font-size:24px;text-align:left; line-height:1em;\">\n            Business information\n        </div>\n        <tr>Business: {{ businessName }}</tr>\n        <tr>Street: <input type=\"text\" id = \"street\" v-model=\"streetInfo\"></tr>\n        <tr>City:<input type=\"text\" id = \"city\" v-model=\"cityInfo\"></tr>\n        <tr>State:<input type=\"text\" id = \"state\" v-model=\"stateInfo\"> </tr>\n        <tr>Zip:<input type=\"text\" id = \"zip\" v-model=\"zipInfo\"></tr>\n        </div>\n     \n        <div class=\"left-bottom\">\n         <div style=\"color: #F5C19E; font-size:24px;text-align:left; line-height:1em;\">\n            Operation Status\n        </div>   \n        <tr >Open: <input type=\"CheckBox\" style=\"padding-left:0%\" id = \"open\" name=\"open\" :checked=\"openStatus\"/> </tr>\n        <tr >Edit Time</tr >\n        <tr > From:<BusiInfoTimeDrop :initial_time=\"hourFrom\" /> To <BusiInfoTimeDropTo :initial_time=\"hourTo\"/></tr>\n        <tr >Edit Day </tr >\n        <tr >From:<BusiInfoDayDrop :initial_time=\"dayFrom\"/> To <BusiInfoDayDropTo :initial_time=\"dayTo\"/></tr >\n        </div>\n        \n        </div>\n        \n        <div class=\"middel\" >\n\n            <div class=\"left-inside\">\n                    <div style=\"color: #F5C19E; font-size:24px;text-align:left; line-height:1em;\">\n        Restaurants Facility:</div>\n        <tr>Takeout:     <input type=\"CheckBox\" id = \"takeout\" name=\"takeout\" :checked=\"takeout\"/></tr>\n        <tr>Delivery:    <input type=\"CheckBox\" id = \"delivery\" name=\"delivery\" :checked=\"delivery\"/> </tr>\n        <tr>Outdoor Sitting: <input type=\"CheckBox\" id = \"outdoor\" name=\"outdoor\" :checked=\"outdoor\"/> </tr>\n        <tr>Indoor Sitting: <input type=\"CheckBox\" id = \"indoor\" name=\"indoor\" :checked=\"indoor\"/> </tr>\n        <tr>Parking: <input type=\"CheckBox\" id = \"parking\" name=\"parking\" :checked=\"parking\"/></tr>\n\n        </div>\n         <div class=\"left-bottom\">\n        <div style=\"color: #F5C19E; font-size:24px;text-align:left; line-height:1em;\">\n        Covid Prevention:</div>\n        <tr>Safety Precaution: <input type=\"CheckBox\" id = \"safety\" name=\"safety\" :checked=\"safety\"/></tr>\n\n        <tr>Mask: <input type=\"CheckBox\" id =\"mask\" name=\"mask\" :checked=\"mask\"/></tr>\n\n        <tr>No Outdoor Shopping: <input type=\"CheckBox\" id =\"outdoorShopping\" name=\"outdoorShopping\" :checked=\"indoorShopping\"/> </tr>\n        <tr>Curbside Pick Up: <input type=\"CheckBox\" id =\"curbside\" name=\"curbside\" :checked=\"curbside\"/> </tr>\n                <tr>Capacity: <input type=\"text\" id = \"capacity\" v-model=\"capacityInfo\"></tr>\n\n        </div> \n</div>\n        \n        <div class=\"right\">\n            <div class=\"left-inside\">\n              <div class=\"left-top\">\n          <div style=\"color: #F5C19E; font-size:24px;text-align:left; line-height:1em\">\n            Business Account:\n          </div>\n          <tr>First Name: <input type=\"text\" id = \"firstname\" v-model=\"firstName\"></tr>\n          <tr>Last Name:<input type=\"text\" id = \"lastname\" v-model=\"lastName\"></tr>\n          <tr>Username: <input type=\"text\" id = \"username\" v-model=\"username\"></tr>\n          <tr>Password:<input type=\"text\" id = \"password\" v-model=\"password\"></tr>\n          <tr>Email:<input type=\"text\" id = \"email\" v-model=\"email\"> </tr>\n        </div>\n                <div style=\"color: #F5C19E; font-size:24px;text-align:left; line-height:1em;padding-top:15px\">\n                  \n        <tr>Description:</tr> </div>\n        <input type=\"text\" style=\"width:250px;height:200px\" v-model=\"announceInfo\">\n\n        </div>\n        <div class=\"left-bottom\">\n        <button class=\"cancel-update\" v-on:click=\"del\">Delete</button>\n        <button class = \"submit-update\" v-on:click=\"submit\">Submit</button>\n        <div v-if='success' class=\"success-message\">\n        {{ success }}\n        </div>\n        <div v-if='error' class=\"error-message\">\n          {{ error }}\n        </div>\n        </div> \n</div> \n\n\n\n    </div>\n    </div>\n\n\n</template>\n\n\n<script>\nimport axios from \"axios\";\nimport BusiInfoTimeDrop from \"./BusiInfoTimeDrop.vue\";\nimport BusiInfoTimeDropTo from \"./BusiInfoTimeDropTo.vue\";\nimport BusiInfoDayDrop from \"./BusiInfoDayDrop.vue\";\nimport BusiInfoDayDropTo from \"./BusiInfoDayDropTo.vue\";\nimport { eventBus } from \"../main\";\n\n\nexport default {\n  name: \"BusiInfoList\",\n\n    components: {  BusiInfoTimeDrop,BusiInfoTimeDropTo,  BusiInfoDayDrop,BusiInfoDayDropTo },\n\n  props: {\n\n  },\n  data() {\n      \n      return {\n          businessInfo: \"\",\n          error: \"\",\n          success: \"\",\n          oldUsername: \"\",\n          oldPassword: \"\",\n          oldEmail: \"\",\n          oldFirstName: \"\",\n          oldLastName: \"\",\n          username: \"\",\n          password: \"\",\n          email: \"\",\n          firstName: \"\",\n          lastName: \"\",\n          businessName: \"\",\n          streetInfo: \"\",\n          cityInfo: \"\",\n          stateInfo: \"\",\n          zipInfo: \"\",\n          openStatus: 0,\n          takeout: 0,\n          delivery: 0,\n          outdoor: 0,\n          indoor: 0,\n          indoorShopping: 0,\n          curbside: 0,\n          safety: 0,\n          parking: 0,\n          mask: 0,\n          capacityInfo: 0,\n          hourFrom:\"10:00:00 AM\",\n          hourTo:\"12:30:00 PM\",\n          dayFrom:\"Sunday\",\n          dayTo:\"Saturday\",\n          announceInfo:\"\",\n          date: \"11/09/2020\",\n          route: false,\n          lat:42.3737213, // defult coordinate, need manual modify after the new business enter in\n          lng:-71.09936191, // defult coordinate, need manual modify after the new business enter in\n      }\n  },\n  created: function() {\n      eventBus.$on(\"business-time-selected\", (res) => {\n    \n        this.hourFrom = res.selected;\n        \n\n      });\n      eventBus.$on(\"business-time-selected-to\", (res) => {\n    \n        this.hourTo = res.selected;\n       \n\n      });\n      eventBus.$on(\"busi-day-selected\", (res) => {\n    \n        this.dayFrom = res.selected;\n       \n\n      });\n      eventBus.$on(\"busi-day-selected-to\", (res) => {\n    \n        this.dayTo= res.selected;\n       \n\n      });\n      eventBus.$on(\"update-success\", () => {\n      this.success = `Successfully update the information!`;\n      this.clearMessages();\n    });\n  },\n  mounted: function() {\n      this.loadBusiInfo();\n      this.loadBusAccountInfo();\n  },\n  methods: {\n      loadBusiInfo: function() {\n          axios.get(`/api/business/single`).then((response) => {\n                /* eslint-disable no-console */\n              var singleBusinessInfo = response.data;\n              var authenticated = true; // need update\n              \n              if (authenticated === true) {\n                  this.username= singleBusinessInfo[0].username;\n                  this.businessName= singleBusinessInfo[0].businessName;\n                  this.streetInfo= singleBusinessInfo[0].street;\n                  this.cityInfo= singleBusinessInfo[0].city;\n                  this.stateInfo= singleBusinessInfo[0].state;\n                  this.zipInfo= singleBusinessInfo[0].zip;\n                  this.openStatus= singleBusinessInfo[0].openStatus;\n                  this.takeout= singleBusinessInfo[0].takeout;\n                  this.delivery= singleBusinessInfo[0].delivery;\n                  this.outdoor= singleBusinessInfo[0].outdoor;\n                  this.indoor= singleBusinessInfo[0].indoor;\n                  this.indoorShopping= singleBusinessInfo[0].indoorShopping;\n                  this.curbside= singleBusinessInfo[0].curbside;\n                  this.safety= singleBusinessInfo[0].safety;\n                  this.parking= singleBusinessInfo[0].parking;\n                  this.mask= singleBusinessInfo[0].mask;\n                  this.capacityInfo= singleBusinessInfo[0].capacity;\n                  this.hourFrom= singleBusinessInfo[0].hourFrom;\n                  this.hourTo= singleBusinessInfo[0].hourTo;\n                  this.dayFrom= singleBusinessInfo[0].dayFrom;\n                  this.dayTo= singleBusinessInfo[0].dayTo;\n                  this.announceInfo= singleBusinessInfo[0].description;\n              }\n\n          })\n      },\n      loadBusAccountInfo: function() {\n          axios.get(`/api/clients/${this.$cookie.get(\"kosh-auth\")}`).then((response) => {\n              var accountInfo = response.data;\n              this.username = accountInfo.username;\n              this.oldUsername = accountInfo.username;\n              this.password = accountInfo.password;\n              this.oldPassword = accountInfo.password;\n              this.email = accountInfo.email;\n              this.oldEmail = accountInfo.email;\n              this.firstName = accountInfo.firstName;\n              this.oldFirstName = accountInfo.firstName;\n              this.lastName = accountInfo.lastName;\n              this.oldLastName = accountInfo.lastName;\n          })\n      },\n      submit: function() {\n        if(this.username === \"\") {\n          this.error = \"Username could not be empty\";\n          this.clearMessages();\n        }else if (this.password === \"\"){\n          this.error = \"Password could not be empty\";\n          this.clearMessages();\n        }else if (this.firstName === \"\"){\n          this.error = \"First name could not be empty\";\n          this.clearMessages();\n        }else if (this.lastName === \"\"){\n          this.error = \"Last name could not be empty\";\n          this.clearMessages();\n        }else if (this.email === \"\"){\n          this.error = \"Email could not be empty\";\n          this.clearMessages();\n        }\n          else{\n          const businessBodyContent = { os: document.getElementById(\"open\").checked, to: document.getElementById(\"takeout\").checked,\n                                od:document.getElementById(\"outdoor\").checked,ind:document.getElementById(\"indoor\").checked,\n                                inshop:document.getElementById(\"outdoorShopping\").checked,dl:document.getElementById(\"delivery\").checked,\n                                cs:document.getElementById(\"curbside\").checked,st:document.getElementById(\"safety\").checked,\n                                pk:document.getElementById(\"parking\").checked,mask:document.getElementById(\"mask\").checked,\n                                lat:this.lat, lng:this.lng, fb:null, ins:null, twitter:null, capacity:this.capacityInfo,\n                                hourFrom:this.hourFrom, hourTo:this.hourTo, dayFrom:this.dayFrom, dayTo:this.dayTo,\n                                des:this.announceInfo, city:this.cityInfo, state:this.stateInfo, zip:this.zipInfo, street:this.streetInfo};\n\n\n          axios.put(`/api/clients/firstname/${this.firstName}`)\n              .then(() => {\n                return axios.put(`/api/clients/lastname/${this.lastName}`)\n              })\n              .then(() => {\n                return axios.put(`/api/clients/password/`, { password: this.password });\n              })\n              .then(() => {\n                // When updating username, need to update both User and Business tables,\n                // and update the \"kosh-business\" cookie\n                if (this.oldUsername !== this.username) {\n                  return axios.put(`/api/clients/username/${this.username}`)\n                }\n              })\n              .then(() => {\n                if (this.oldUsername !== this.username) {\n                  return axios.put(`/api/business/user`, { username: this.username, businame: this.businessName })\n                }\n              })\n              .then(() => {\n                this.$cookie.set(\"kosh-business\", this.username);\n                if (this.oldEmail !== this.email) {\n                  return axios.put(`/api/clients/email/`, { email: this.email })\n                }\n              })\n              .then(() => {\n                this.businessInfo = \"Got here\";\n                return axios.put(`/api/business/`, businessBodyContent) \n              })\n              .then(() => {\n                eventBus.$emit(\"update-success\", true); \n              })\n              .catch((err) => {\n                this.error = err.response.data.error;\n              }); \n          \n          this.clearMessages();\n        }\n      },\n      del: function() {\n      axios.delete(`/api/clients/`, {})\n        .then((res)=>{\n          this.success = res.data.message;\n          this.route = true;\n          return axios.put(`/api/business/claim`, {username: this.$cookie.get(\"kosh-auth\")});\n        })\n        .then(() => {})\n        .catch((err) => {\n          this.error = err;\n        })\n        .then(()=>{\n          this.clearMessages();\n        })\n      },\n      clearMessages: function() {\n      setInterval(() => {\n        this.success = \"\";\n        this.error = \"\";\n        if (this.route) {\n          this.$cookie.set(\"kosh-auth\", \"\");\n          this.$cookie.set(\"kosh-client\", \"\");\n          this.$cookie.set(\"kosh-business\", \"\");\n          this.$router.push(\"/login\");\n        }\n        this.route = false;\n      }, 5000);\n    }\n      \n  },\n  computed:{\n  }\n\n\n};\n</script>\n\n<style scoped>\n    tr{\n        display: flex; \n        justify-content: left;\n        margin-bottom: 3px;\n        padding-left: 0%;\n        text-justify :distribute-all-lines;\n    }\n \n\n    input{\n              padding-left: 0%;\n\n    }\n  \n\n</style>"]}]}