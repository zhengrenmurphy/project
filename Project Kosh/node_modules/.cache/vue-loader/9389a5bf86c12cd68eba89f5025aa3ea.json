{"remainingRequest":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/murphyren/Desktop/170/nn/final-project-team-peach/src/components/ReservationTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/src/components/ReservationTable.vue","mtime":1607370865633},{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJlc2VydmF0aW9uVGFibGUiLAoKICBjb21wb25lbnRzOnt9LAoKICBwcm9wczogewogICAgdGltZV9mcm9tOiBEYXRlLAogICAgdGltZXNsb3RfbGVuZ3RoOiBOdW1iZXIsCiAgICB0aW1lX3RvOiBEYXRlLAogICAgbW9uZGF5OiBBcnJheSwKICAgIHR1ZXNkYXk6IEFycmF5LAogICAgd2VkbmVzZGF5OiBBcnJheSwKICAgIHRodXJzZGF5OiBBcnJheSwKICAgIGZyaWRheTogQXJyYXksCiAgICBzYXR1cmRheTogQXJyYXksCiAgICBzdW5kYXk6IEFycmF5LAogICAgbWF4UmVzOiB7CiAgICAgICAgZGVmYXVsdDogLTEsCiAgICAgICAgdHlwZTogTnVtYmVyCiAgICB9CiAgfSwKCiAgd2F0Y2g6IHsKICAgICAgdGltZV9mcm9tOiBmdW5jdGlvbih2YWwpewogICAgICAgICAgdGhpcy50aW1lX2Zyb20gPSB2YWwKICAgICAgICAgIHRoaXMudGltZXNsb3RzID0gdGhpcy5nZXRUaW1lU2xvdHMoKQogICAgICB9LAogICAgICB0aW1lX3RvOiBmdW5jdGlvbih2YWwpewogICAgICAgICAgdGhpcy50aW1lX3RvID0gdmFsCiAgICAgICAgICB0aGlzLnRpbWVzbG90cyA9IHRoaXMuZ2V0VGltZVNsb3RzKCkKICAgICAgfSwKICAgICAgdGltZXNsb3RfbGVuZ3RoOiBmdW5jdGlvbih2YWwpewogICAgICAgICAgdGhpcy50aW1lc2xvdF9sZW5ndGggPSB2YWwKICAgICAgICAgIHRoaXMudGltZXNsb3RzID0gdGhpcy5nZXRUaW1lU2xvdHMoKQogICAgICB9LAogICAgICBtb25kYXk6IGZ1bmN0aW9uKHZhbCl7CiAgICAgICAgICB0aGlzLm1vbmRheSA9IHZhbCAvLyBKU09OLnBhcnNlKHRoaXMuJGNvb2tpZS5nZXQoIm1vbmRheS1jaGVja2VkIikpCiAgICAgIH0sCiAgICAgIHR1ZXNkYXk6IGZ1bmN0aW9uKHZhbCl7CiAgICAgICAgICB0aGlzLnR1ZXNkYXkgPSB2YWwgLy8gSlNPTi5wYXJzZSh0aGlzLiRjb29raWUuZ2V0KCJ0dWVzZGF5LWNoZWNrZWQiKSkKICAgICAgfSwKICAgICAgd2VkbmVzZGF5OiBmdW5jdGlvbih2YWwpewogICAgICAgICAgdGhpcy53ZWRuZXNkYXkgPSB2YWwgLy8gSlNPTi5wYXJzZSh0aGlzLiRjb29raWUuZ2V0KCJ3ZWRuZXNkYXktY2hlY2tlZCIpKQogICAgICB9LAogICAgICB0aHVyc2RheTogZnVuY3Rpb24odmFsKXsKICAgICAgICAgIHRoaXMudGh1cnNkYXkgPSB2YWwgLy8gSlNPTi5wYXJzZSh0aGlzLiRjb29raWUuZ2V0KCJ0aHVyc2RheS1jaGVja2VkIikpCiAgICAgIH0sCiAgICAgIGZyaWRheTogZnVuY3Rpb24odmFsKXsKICAgICAgICAgIHRoaXMuZnJpZGF5ID0gdmFsIC8vIEpTT04ucGFyc2UodGhpcy4kY29va2llLmdldCgiZnJpZGF5LWNoZWNrZWQiKSkKICAgICAgfSwKICAgICAgc2F0dXJkYXk6IGZ1bmN0aW9uKHZhbCl7CiAgICAgICAgICB0aGlzLnNhdHVyZGF5ID0gdmFsIC8vIEpTT04ucGFyc2UodGhpcy4kY29va2llLmdldCgic2F0dXJkYXktY2hlY2tlZCIpKQogICAgICB9LAogICAgICBzdW5kYXk6IGZ1bmN0aW9uKHZhbCl7CiAgICAgICAgICB0aGlzLnN1bmRheSA9IHZhbCAvLyBKU09OLnBhcnNlKHRoaXMuJGNvb2tpZS5nZXQoInN1bmRheS1jaGVja2VkIikpCiAgICAgIH0KCiAgfSwKCiAgZGF0YSgpIHsgICAgCiAgICByZXR1cm4gewogICAgICBlcnJvcjogIiIsCiAgICAgIHRpbWVzbG90czogW10KICAgIH07CiAgfSwKCiAgbW91bnRlZDogZnVuY3Rpb24oKXsKICAgIHRoaXMubW9uZGF5ID0gSlNPTi5wYXJzZSh0aGlzLiRjb29raWUuZ2V0KCJtb25kYXktY2hlY2tlZCIpKQogICAgdGhpcy50dWVzZGF5ID0gSlNPTi5wYXJzZSh0aGlzLiRjb29raWUuZ2V0KCJ0dWVzZGF5LWNoZWNrZWQiKSkKICAgIHRoaXMud2VkbmVzZGF5ID0gSlNPTi5wYXJzZSh0aGlzLiRjb29raWUuZ2V0KCJ3ZWRuZXNkYXktY2hlY2tlZCIpKQogICAgdGhpcy50aHVyc2RheSA9IEpTT04ucGFyc2UodGhpcy4kY29va2llLmdldCgidGh1cnNkYXktY2hlY2tlZCIpKQogICAgdGhpcy5mcmlkYXkgPSBKU09OLnBhcnNlKHRoaXMuJGNvb2tpZS5nZXQoImZyaWRheS1jaGVja2VkIikpCiAgICB0aGlzLnNhdHVyZGF5ID0gSlNPTi5wYXJzZSh0aGlzLiRjb29raWUuZ2V0KCJzYXR1cmRheS1jaGVja2VkIikpCiAgICB0aGlzLnN1bmRheSA9IEpTT04ucGFyc2UodGhpcy4kY29va2llLmdldCgic3VuZGF5LWNoZWNrZWQiKSkKICAgIHRoaXMudGltZXNsb3RzID0gdGhpcy5nZXRUaW1lU2xvdHMoKQogIH0sCgogIG1ldGhvZHM6IHsKICAgIGdldFRpbWVTbG90cygpewogICAgICAgIGxldCB0aW1lcyA9IFtdOwogICAgICAgIGxldCBlbXB0eSA9IFtdOwogICAgICAgIGxldCBpID0gMDsKICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMudGltZV9mcm9tCiAgICAgICAgd2hpbGUoKGN1cnJlbnQudG9Mb2NhbGVUaW1lU3RyaW5nKCkgIT09IHRoaXMudGltZV90by50b0xvY2FsZVRpbWVTdHJpbmcoKSkgfHwgY3VycmVudC5nZXRUaW1lKCkgPCB0aGlzLnRpbWVfdG8uZ2V0VGltZSgpKXsKICAgICAgICAgICAgY3VycmVudCA9IG5ldyBEYXRlKHRoaXMudGltZV9mcm9tLmdldFRpbWUoKSArIHRoaXMudGltZXNsb3RfbGVuZ3RoKmkqNjAwMDApCiAgICAgICAgICAgIHRpbWVzLnB1c2goY3VycmVudC50b0xvY2FsZVRpbWVTdHJpbmcoKSkKICAgICAgICAgICAgZW1wdHkucHVzaCgwKTsKICAgICAgICAgICAgaSsrOwogICAgICAgIH0KCiAgICAgICAgaWYoKHRpbWVzLmxlbmd0aCAhPT0gdGhpcy5tb25kYXkubGVuZ3RoKSAmJiB0aW1lcy5sZW5ndGggIT09IDApewogICAgICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGUtY2hlY2tlZCcsIHttOiBbLi4uZW1wdHldLCB0OiBbLi4uZW1wdHldLCB3OiBbLi4uZW1wdHldLCByOiBbLi4uZW1wdHldLCBmOiBbLi4uZW1wdHldLCBzYTogWy4uLmVtcHR5XSwgc3U6IFsuLi5lbXB0eV19KQogICAgICAgIH0KICAgICAgICByZXR1cm4gdGltZXMKICAgIH0sCiAgICBjaGVja01heFNsb3RzKHdlZWtEYXksIGluZGV4KXsKICAgICAgICBjb25zdCB3ZWVrTWFwID0gewogICAgICAgICAgICAnTU9OJzogdGhpcy5tb25kYXksCiAgICAgICAgICAgICdUVUUnOiB0aGlzLnR1ZXNkYXksCiAgICAgICAgICAgICdXRUQnOiB0aGlzLndlZG5lc2RheSwKICAgICAgICAgICAgJ1RIVVInOiB0aGlzLnRodXJzZGF5LAogICAgICAgICAgICAnRlJJJzogdGhpcy5mcmlkYXksCiAgICAgICAgICAgICdTQVQnOiB0aGlzLnNhdHVyZGF5LAogICAgICAgICAgICAnU1VOJzogdGhpcy5zdW5kYXkKICAgICAgICB9CiAgICAgICAgaWYodGhpcy5tYXhSZXMgIT09IC0xKXsKICAgICAgICAgICAgbGV0IGFsbENoZWNrQm94ZXMgPXRoaXMubW9uZGF5LmNvbmNhdCh0aGlzLnR1ZXNkYXksIHRoaXMud2VkbmVzZGF5LCB0aGlzLnRodXJzZGF5LCB0aGlzLmZyaWRheSwgdGhpcy5zYXR1cmRheSwgdGhpcy5zdW5kYXkpCiAgICAgICAgICAgIGNvbnN0IG1vbiA9IGFsbENoZWNrQm94ZXMuZmlsdGVyKGNoZWNrZWQgPT4gKGNoZWNrZWQgfHwgY2hlY2tlZCA9PT0gMSkpCiAgICAgICAgICAgIGlmKG1vbi5sZW5ndGggPT09IHRoaXMubWF4UmVzKXsKICAgICAgICAgICAgICAgIHdlZWtNYXBbd2Vla0RheV1baW5kZXhdID0gZmFsc2UKICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSAnWW91IGhhdmUgc2VsZWN0ZWQgdGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWVzbG90cy4nCiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLiRlbWl0KCd1cGRhdGUtY2hlY2tlZCcsIHttOiB0aGlzLm1vbmRheSwgdDogdGhpcy50dWVzZGF5LCB3OiB0aGlzLndlZG5lc2RheSwgcjogdGhpcy50aHVyc2RheSwgZjogdGhpcy5mcmlkYXksIHNhOiB0aGlzLnNhdHVyZGF5LCBzdTogdGhpcy5zdW5kYXl9KQogICAgICAgIH0KICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["ReservationTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ReservationTable.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"reservation-table\">\n      <label>{{this.error}}</label>\n      <table>\n          <col>\n          <col>\n          <col>\n          <col>\n          <col>\n          <col>\n          <col>\n          <col>\n\n          <thead>\n              <th></th>\n              <th>Monday</th>\n              <th>Tuesday</th>\n              <th>Wednesday</th>\n              <th>Thursday</th>\n              <th>Friday</th>\n              <th>Saturday</th>\n              <th>Sunday</th>\n          </thead>\n          <tbody>\n              <tr v-for=\"(i, index) in monday.length\" v-bind:key=index>\n                <td>{{timeslots[index]}}</td>\n\t\t\t\t<td class=\"timeCheckbox\">\n\t\t\t\t\t<label class=\"form-checkbox\">\n                        <input type=\"checkbox\" :value=\"monday[index]\" v-model=\"monday[index]\" v-on:click=\"checkMaxSlots('MON', index)\">\n\t\t\t\t\t\t<i class=\"form-icon\"></i>\n                    </label>\n\t\t\t\t</td>\n                <td class=\"timeCheckbox\">\n\t\t\t\t\t<label class=\"form-checkbox\">\n                        <input type=\"checkbox\" :value=\"tuesday[index]\" v-model=\"tuesday[index]\" v-on:click=\"checkMaxSlots('TUE', index)\">\n\t\t\t\t\t\t<i class=\"form-icon\"></i>\n                    </label>\n\t\t\t\t</td>\n                <td class=\"timeCheckbox\">\n\t\t\t\t\t<label class=\"form-checkbox\">\n                        <input type=\"checkbox\" :value=\"wednesday[index]\" v-model=\"wednesday[index]\" v-on:click=\"checkMaxSlots('WED', index)\">\n\t\t\t\t\t\t<i class=\"form-icon\"></i>\n                    </label>\n\t\t\t\t</td>\n                <td class=\"timeCheckbox\">\n\t\t\t\t\t<label class=\"form-checkbox\">\n                        <input type=\"checkbox\" :value=\"thursday[index]\" v-model=\"thursday[index]\" v-on:click=\"checkMaxSlots('THUR', index)\">\n\t\t\t\t\t\t<i class=\"form-icon\"></i>\n                    </label>\n\t\t\t\t</td>\n                <td class=\"timeCheckbox\">\n\t\t\t\t\t<label class=\"form-checkbox\">\n                        <input type=\"checkbox\" :value=\"friday[index]\" v-model=\"friday[index]\" v-on:click=\"checkMaxSlots('FRI', index)\">\n\t\t\t\t\t\t<i class=\"form-icon\"></i>\n                    </label>\n\t\t\t\t</td>\n                <td class=\"timeCheckbox\">\n\t\t\t\t\t<label class=\"form-checkbox\">\n                        <input type=\"checkbox\" :value=\"saturday[index]\" v-model=\"saturday[index]\" v-on:click=\"checkMaxSlots('SAT', index)\">\n\t\t\t\t\t\t<i class=\"form-icon\"></i>\n                    </label>\n\t\t\t\t</td>\n                <td class=\"timeCheckbox\">\n\t\t\t\t\t<label class=\"form-checkbox\">\n                        <input type=\"checkbox\" :value=\"sunday[index]\" v-model=\"sunday[index]\" v-on:click=\"checkMaxSlots('SUN', index)\">\n\t\t\t\t\t\t<i class=\"form-icon\"></i>\n                    </label>\n\t\t\t\t</td>\n\t\t\t</tr>\n          </tbody>\n      </table>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: \"ReservationTable\",\n\n  components:{},\n\n  props: {\n    time_from: Date,\n    timeslot_length: Number,\n    time_to: Date,\n    monday: Array,\n    tuesday: Array,\n    wednesday: Array,\n    thursday: Array,\n    friday: Array,\n    saturday: Array,\n    sunday: Array,\n    maxRes: {\n        default: -1,\n        type: Number\n    }\n  },\n\n  watch: {\n      time_from: function(val){\n          this.time_from = val\n          this.timeslots = this.getTimeSlots()\n      },\n      time_to: function(val){\n          this.time_to = val\n          this.timeslots = this.getTimeSlots()\n      },\n      timeslot_length: function(val){\n          this.timeslot_length = val\n          this.timeslots = this.getTimeSlots()\n      },\n      monday: function(val){\n          this.monday = val // JSON.parse(this.$cookie.get(\"monday-checked\"))\n      },\n      tuesday: function(val){\n          this.tuesday = val // JSON.parse(this.$cookie.get(\"tuesday-checked\"))\n      },\n      wednesday: function(val){\n          this.wednesday = val // JSON.parse(this.$cookie.get(\"wednesday-checked\"))\n      },\n      thursday: function(val){\n          this.thursday = val // JSON.parse(this.$cookie.get(\"thursday-checked\"))\n      },\n      friday: function(val){\n          this.friday = val // JSON.parse(this.$cookie.get(\"friday-checked\"))\n      },\n      saturday: function(val){\n          this.saturday = val // JSON.parse(this.$cookie.get(\"saturday-checked\"))\n      },\n      sunday: function(val){\n          this.sunday = val // JSON.parse(this.$cookie.get(\"sunday-checked\"))\n      }\n\n  },\n\n  data() {    \n    return {\n      error: \"\",\n      timeslots: []\n    };\n  },\n\n  mounted: function(){\n    this.monday = JSON.parse(this.$cookie.get(\"monday-checked\"))\n    this.tuesday = JSON.parse(this.$cookie.get(\"tuesday-checked\"))\n    this.wednesday = JSON.parse(this.$cookie.get(\"wednesday-checked\"))\n    this.thursday = JSON.parse(this.$cookie.get(\"thursday-checked\"))\n    this.friday = JSON.parse(this.$cookie.get(\"friday-checked\"))\n    this.saturday = JSON.parse(this.$cookie.get(\"saturday-checked\"))\n    this.sunday = JSON.parse(this.$cookie.get(\"sunday-checked\"))\n    this.timeslots = this.getTimeSlots()\n  },\n\n  methods: {\n    getTimeSlots(){\n        let times = [];\n        let empty = [];\n        let i = 0;\n        let current = this.time_from\n        while((current.toLocaleTimeString() !== this.time_to.toLocaleTimeString()) || current.getTime() < this.time_to.getTime()){\n            current = new Date(this.time_from.getTime() + this.timeslot_length*i*60000)\n            times.push(current.toLocaleTimeString())\n            empty.push(0);\n            i++;\n        }\n\n        if((times.length !== this.monday.length) && times.length !== 0){\n            this.$emit('update-checked', {m: [...empty], t: [...empty], w: [...empty], r: [...empty], f: [...empty], sa: [...empty], su: [...empty]})\n        }\n        return times\n    },\n    checkMaxSlots(weekDay, index){\n        const weekMap = {\n            'MON': this.monday,\n            'TUE': this.tuesday,\n            'WED': this.wednesday,\n            'THUR': this.thursday,\n            'FRI': this.friday,\n            'SAT': this.saturday,\n            'SUN': this.sunday\n        }\n        if(this.maxRes !== -1){\n            let allCheckBoxes =this.monday.concat(this.tuesday, this.wednesday, this.thursday, this.friday, this.saturday, this.sunday)\n            const mon = allCheckBoxes.filter(checked => (checked || checked === 1))\n            if(mon.length === this.maxRes){\n                weekMap[weekDay][index] = false\n                this.error = 'You have selected the maximum amount of timeslots.'\n            }\n        } else {\n            this.$emit('update-checked', {m: this.monday, t: this.tuesday, w: this.wednesday, r: this.thursday, f: this.friday, sa: this.saturday, su: this.sunday})\n        }\n    }\n  }\n};\n</script>\n\n<style scoped>\n    \n\n    tr td{\n        border-bottom: 1px solid #93b1ff;\n    }\n\n    tr {\n        line-height: 40px;\n    }\n\n    thead{\n        border-bottom: 1px solid #93b1ff;\n    }\n\n    table{\n        border-collapse: collapse;\n    }\n\n    col{\n        width: 10%\n    }\n\n    label{\n        display: flex; \n        justify-content: left;\n        color: red;\n    }\n    \n</style>"]}]}