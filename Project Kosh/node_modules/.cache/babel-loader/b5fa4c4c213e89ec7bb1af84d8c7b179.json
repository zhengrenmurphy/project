{"remainingRequest":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/babel-loader/lib/index.js!/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/murphyren/Desktop/170/nn/final-project-team-peach/src/components/ResBusinessTimepicker.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/src/components/ResBusinessTimepicker.vue","mtime":1607447801654},{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/murphyren/Desktop/170/nn/final-project-team-peach/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbXVycGh5cmVuL0Rlc2t0b3AvMTcwL25uL2ZpbmFsLXByb2plY3QtdGVhbS1wZWFjaC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBSZXNCeUNsaWVudFRhYmxlIGZyb20gIi4vUmVzQnlDbGllbnRUYWJsZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAicmVzLWJ1c2luZXNzLXRpbWVzbG90cyIsCiAgY29tcG9uZW50czogewogICAgUmVzQnlDbGllbnRUYWJsZTogUmVzQnlDbGllbnRUYWJsZQogIH0sCiAgcHJvcHM6IHsKICAgIGRhdGU6IFN0cmluZywKICAgIHN0YXJ0OiBTdHJpbmcsCiAgICBlbmQ6IFN0cmluZwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlbGVjdGVkOiB7fSwKICAgICAgdGltZXNsb3RzOiBbXSwKICAgICAgZW1wdHk6ICIiCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGRhdGU6IGZ1bmN0aW9uIGRhdGUodmFsKSB7CiAgICAgIHRoaXMuZGF0ZSA9IHZhbDsKICAgIH0sCiAgICB0aW1lc2xvdHM6IGZ1bmN0aW9uIHRpbWVzbG90cyh2YWwpIHsKICAgICAgdGhpcy50aW1lc2xvdHMgPSB2YWw7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICB2YXIgX21vdW50ZWQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgY2xpZW50UmVzLCB0aW1lQXJyYXk7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRUaW1lc2xvdHMoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjbGllbnRSZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoY2xpZW50UmVzLmxlbmd0aCAhPT0gMCkgewogICAgICAgICAgICAgICAgdGltZUFycmF5ID0gW107CiAgICAgICAgICAgICAgICBjbGllbnRSZXMgPSBjbGllbnRSZXMuZmlsdGVyKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZShfdGhpcy5kYXRlKTsKICAgICAgICAgICAgICAgICAgdmFyIG5ld0RhdGUgPSBkLmdldERhdGUoKSArIDE7CiAgICAgICAgICAgICAgICAgIGQuc2V0RGF0ZShuZXdEYXRlKTsKCiAgICAgICAgICAgICAgICAgIGlmIChkLnRvTG9jYWxlRGF0ZVN0cmluZygpID09PSBuZXcgRGF0ZShyZXMudGltZSkudG9Mb2NhbGVEYXRlU3RyaW5nKCkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiByZXMudXNlcm5hbWUuc3BsaXQoJywnKSwKICAgICAgICAgICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZShyZXMudGltZSkudG9Mb2NhbGVUaW1lU3RyaW5nKCkKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY2xpZW50UmVzLmZvckVhY2goZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICB0aW1lQXJyYXkucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgdGltZTogcmVzLnRpbWUsCiAgICAgICAgICAgICAgICAgICAgcmVzZXJ2YXRpb25zOiB7CiAgICAgICAgICAgICAgICAgICAgICBsaW1pdDogMTAsCiAgICAgICAgICAgICAgICAgICAgICBuYW1lczogcmVzLnVzZXJuYW1lCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy50aW1lc2xvdHMgPSB0aW1lQXJyYXk7CiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkID0gdGltZUFycmF5Lmxlbmd0aCA9PT0gMCA/IHt9IDogdGltZUFycmF5WzBdOwogICAgICAgICAgICAgICAgdGhpcy5lbXB0eSA9IHRpbWVBcnJheS5sZW5ndGggPT09IDAgPyAiTm8gcmVzZXJ2YXRpb25zIG9uIHRoaXMgZGF5ISIgOiAiIjsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5lbXB0eSA9ICJObyByZXNlcnZhdGlvbnMgb24gdGhpcyBkYXkhIjsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgfSkpOwoKICAgIGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAgIHJldHVybiBfbW91bnRlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfQoKICAgIHJldHVybiBtb3VudGVkOwogIH0oKSwKICBtZXRob2RzOiB7CiAgICBnZXRUaW1lc2xvdHM6IGZ1bmN0aW9uIGdldFRpbWVzbG90cygpIHsKICAgICAgcmV0dXJuIGF4aW9zLmdldCgiL2FwaS9jbGllbnRSZXMvYnVzaW5lc3MvIi5jb25jYXQodGhpcy4kY29va2llLmdldCgia29zaC1idXNpbmVzcyIpKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmV0dXJuIHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ResBusinessTimepicker.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuBA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,gBAAA,MAAA,oBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,wBADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,gBAAA,EAAA;AAAA,GAFA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA,MADA;AAEA,IAAA,KAAA,EAAA,MAFA;AAGA,IAAA,GAAA,EAAA;AAHA,GAHA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,KAAA,EAAA;AAHA,KAAA;AAKA,GAdA;AAeA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA,cAAA,GAAA,EAAA;AACA,WAAA,IAAA,GAAA,GAAA;AACA,KAHA;AAIA,IAAA,SAAA,EAAA,mBAAA,GAAA,EAAA;AACA,WAAA,SAAA,GAAA,GAAA;AACA;AANA,GAfA;AAuBA,EAAA,OAAA;AAAA,2EAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,YAAA,EADA;;AAAA;AACA,cAAA,SADA;;AAEA,kBAAA,SAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,gBAAA,SADA,GACA,EADA;AAGA,gBAAA,SAAA,GAAA,SAAA,CAAA,MAAA,CAAA,UAAA,GAAA,EAAA;AACA,sBAAA,CAAA,GAAA,IAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA;AACA,sBAAA,OAAA,GAAA,CAAA,CAAA,OAAA,KAAA,CAAA;AACA,kBAAA,CAAA,CAAA,OAAA,CAAA,OAAA;;AACA,sBAAA,CAAA,CAAA,kBAAA,OAAA,IAAA,IAAA,CAAA,GAAA,CAAA,IAAA,EAAA,kBAAA,EAAA,EAAA;AACA,2BAAA,GAAA;AACA;AACA,iBAPA,EAOA,GAPA,CAOA,UAAA,GAAA,EAAA;AACA,yBAAA;AACA,oBAAA,QAAA,EAAA,GAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CADA;AAEA,oBAAA,IAAA,EAAA,IAAA,IAAA,CAAA,GAAA,CAAA,IAAA,EAAA,kBAAA;AAFA,mBAAA;AAIA,iBAZA,CAAA;AAcA,gBAAA,SAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,kBAAA,SAAA,CAAA,IAAA,CAAA;AACA,oBAAA,IAAA,EAAA,GAAA,CAAA,IADA;AAEA,oBAAA,YAAA,EAAA;AACA,sBAAA,KAAA,EAAA,EADA;AAEA,sBAAA,KAAA,EAAA,GAAA,CAAA;AAFA;AAFA,mBAAA;AAOA,iBARA;AAUA,qBAAA,SAAA,GAAA,SAAA;AACA,qBAAA,QAAA,GAAA,SAAA,CAAA,MAAA,KAAA,CAAA,GAAA,EAAA,GAAA,SAAA,CAAA,CAAA,CAAA;AACA,qBAAA,KAAA,GAAA,SAAA,CAAA,MAAA,KAAA,CAAA,GAAA,8BAAA,GAAA,EAAA;AACA,eA9BA,MA8BA;AACA,qBAAA,KAAA,GAAA,8BAAA;AACA;;AAlCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,KAvBA;AA2DA,EAAA,OAAA,EAAA;AACA,IAAA,YAAA,EAAA,wBAAA;AACA,aAAA,KAAA,CAAA,GAAA,mCAAA,KAAA,OAAA,CAAA,GAAA,CAAA,eAAA,CAAA,GACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,eAAA,GAAA,CAAA,IAAA;AACA,OAHA,CAAA;AAIA;AANA;AA3DA,CAAA","sourcesContent":["<template>\n    <div class=\"timeslot-capacity-container\">\n        <div v-if=\"empty\">\n            {{ empty }}\n        </div>\n        <!-- Times Table -->\n        <div v-else class=\"time-table-container\">\n            <table>\n                <th><u>{{ date }}</u></th>\n                <tr v-for='slot in timeslots' :key=\"slot\" class=\"time-row\">\n                    <td><button class=\"time-button\" v-if=\"selected===slot\" style=\"background-color:#93B1FF\" v-on:click=\"selected = slot\">{{ slot.time }}</button>\n                    <button class=\"time-button\" v-else v-on:click=\"selected = slot\">{{ slot.time }}</button></td>\n                </tr>\n            </table>\n        </div>\n        <ResByClientTable\n            v-bind:key='selected'\n            v-bind:reservations='selected.reservations'\n        />\n    </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport ResByClientTable from \"./ResByClientTable\";\n\nexport default{\n    name: \"res-business-timeslots\",\n    components: { ResByClientTable },\n    props: {\n        date: String,\n        start: String,\n        end: String\n    },\n    data(){\n        return{\n            selected: {},\n            timeslots: [],\n            empty: \"\"\n        }\n    },\n    watch: {\n        date: function(val) {\n            this.date = val;\n        },\n        timeslots: function(val) {\n            this.timeslots = val\n        }\n    },\n    mounted: async function(){\n        let clientRes = await this.getTimeslots()\n        if(clientRes.length !== 0){\n            const timeArray = []\n\n            clientRes = clientRes.filter(res => {\n                let d = new Date(this.date)\n                let newDate = d.getDate() + 1\n                d.setDate(newDate)\n                if(d.toLocaleDateString() === new Date(res.time).toLocaleDateString()){\n                    return res\n                }\n            }).map(res => {\n                return {\n                    username: res.username.split(','),\n                    time: new Date(res.time).toLocaleTimeString()\n                }\n            })\n\n            clientRes.forEach(res => {\n                timeArray.push({\n                    time: res.time,\n                    reservations: {\n                        limit: 10,\n                        names: res.username\n                    }\n                })\n            })\n\n            this.timeslots = timeArray;\n            this.selected = (timeArray.length === 0)? {}: timeArray[0];\n            this.empty = (timeArray.length === 0)? \"No reservations on this day!\": \"\"\n        }else{\n            this.empty = \"No reservations on this day!\"\n        }\n    },\n    methods: {\n        getTimeslots: function(){\n            return axios.get(`/api/clientRes/business/${this.$cookie.get(\"kosh-business\")}`)\n            .then((res) => {\n                return res.data\n            })\n        }\n    }\n}\n</script>\n\n"],"sourceRoot":"src/components"}]}